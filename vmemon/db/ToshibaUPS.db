
record (longin,"SR:C01{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "10 second")
    #field(FLNK, "SR:C01{UPS}Sts:_Sts")
    field(FLNK, "SR:C01{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C01{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C01{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C01{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.1 public STRING: 128")
    # field(SCAN, "10 second")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C01{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C01{UPS}Sts:_Sts")
    #field(FLNK, "SR:C01{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C01{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C01{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C01{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C01{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C01{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C01{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C01{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C01{UPS}Sts:_Sts")
}

record(mbbi, "SR:C01{UPS}Sts:_Sts")
{
    field(INP, "SR:C01{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C01{UPS}M:Raw__I")
}

record (longin,"SR:C01{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(FLNK, "SR:C01{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C01{UPS}M:_I")
{
    field(INP, "SR:C01{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C01{UPS}Val:%Load__I")
}


record (ai,"SR:C01{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C01{UPS}V:Input__I")
    field(FLNK, "SR:C01{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C01{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C01{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C01{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C01{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C01{UPS}I:Input__I")
}

record (ai,"SR:C01{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C01{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C01{UPS}I:Input__Calc")
{
        field(INPA, "SR:C01{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C01{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C01{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.1 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C01{UPS}V:Output__I")   
#}

record (ai,"SR:C01{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C01{UPS}V:Output__I")   
    field(FLNK, "SR:C01{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C01{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C01{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C01{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C01{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C01{UPS}I:OutputPa__I")
}

record (ai,"SR:C01{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C01{UPS}I:OutputPb__I")
}
record (ai,"SR:C01{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C01{UPS}I:OutputPc__I")
}
record (ai,"SR:C01{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C01{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C01{UPS}I:Output__Calc")
{
        field(INPA, "SR:C01{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C01{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C01{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C01{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C01{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C01{UPS}Val:%Battery__I")
    field(FLNK, "SR:C01{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C01{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C01{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C01{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C01{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C01{UPS}V:Battery__I")
}

record (longin,"SR:C01{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C01{UPS}T:UPSAir__I")
}


record (longin,"SR:C01{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C01{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C01{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C01{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C01{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C01{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C01{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C01{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C01{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C01{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C01{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C01{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C01{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.1 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C02{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C01{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C01{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C01{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.1 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C01{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C01{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C01{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C01{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C01{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C01{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C01{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C01{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C01{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C01{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C01{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C01{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C01{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C01{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C01{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C01{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C01{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C01{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C01{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C01{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C02{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C02{UPS}Sts:_Sts")
    field(FLNK, "SR:C02{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C02{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C02{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C02{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.2 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C02{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C02{UPS}Sts:_Sts")
    #field(FLNK, "SR:C02{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C02{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C02{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C02{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C02{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C02{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C02{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C02{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C02{UPS}Sts:_Sts")
}

record(mbbi, "SR:C02{UPS}Sts:_Sts")
{
    field(INP, "SR:C02{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C02{UPS}M:Raw__I")
}

record (longin,"SR:C02{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(FLNK, "SR:C02{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C02{UPS}M:_I")
{
    field(INP, "SR:C02{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C02{UPS}Val:%Load__I")
}


record (ai,"SR:C02{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C02{UPS}V:Input__I")
    field(FLNK, "SR:C02{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C02{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C02{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C02{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C02{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C02{UPS}I:Input__I")
}

record (ai,"SR:C02{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C02{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C02{UPS}I:Input__Calc")
{
        field(INPA, "SR:C02{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C02{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C02{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.2 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C02{UPS}V:Output__I")   
#}

record (ai,"SR:C02{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C02{UPS}V:Output__I")   
    field(FLNK, "SR:C02{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C02{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C02{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C02{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C02{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C02{UPS}I:OutputPa__I")
}

record (ai,"SR:C02{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C02{UPS}I:OutputPb__I")
}
record (ai,"SR:C02{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C02{UPS}I:OutputPc__I")
}
record (ai,"SR:C02{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C02{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C02{UPS}I:Output__Calc")
{
        field(INPA, "SR:C02{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C02{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C02{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C02{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C02{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C02{UPS}Val:%Battery__I")
    field(FLNK, "SR:C02{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C02{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C02{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C02{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C02{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C02{UPS}V:Battery__I")
}

record (longin,"SR:C02{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C02{UPS}T:UPSAir__I")
}


record (longin,"SR:C02{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C02{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C02{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C02{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C02{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C02{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C02{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C02{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C02{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C02{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C02{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C02{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C02{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.2 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C03{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C02{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C02{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C02{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.2 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C02{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C02{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C02{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C02{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C02{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C02{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C02{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C02{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C02{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C02{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C02{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C02{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C02{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C02{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C02{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C02{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C02{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C02{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C02{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C02{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C03{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C03{UPS}Sts:_Sts")
    field(FLNK, "SR:C03{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C03{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C03{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C03{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.3 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C03{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C03{UPS}Sts:_Sts")
    #field(FLNK, "SR:C03{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C03{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C03{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C03{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C03{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C03{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C03{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C03{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C03{UPS}Sts:_Sts")
}

record(mbbi, "SR:C03{UPS}Sts:_Sts")
{
    field(INP, "SR:C03{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C03{UPS}M:Raw__I")
}

record (longin,"SR:C03{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(FLNK, "SR:C03{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C03{UPS}M:_I")
{
    field(INP, "SR:C03{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C03{UPS}Val:%Load__I")
}


record (ai,"SR:C03{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C03{UPS}V:Input__I")
    field(FLNK, "SR:C03{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C03{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C03{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C03{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C03{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C03{UPS}I:Input__I")
}

record (ai,"SR:C03{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C03{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C03{UPS}I:Input__Calc")
{
        field(INPA, "SR:C03{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C03{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C03{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.3 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C03{UPS}V:Output__I")   
#}

record (ai,"SR:C03{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C03{UPS}V:Output__I")   
    field(FLNK, "SR:C03{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C03{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C03{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C03{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C03{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C03{UPS}I:OutputPa__I")
}

record (ai,"SR:C03{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C03{UPS}I:OutputPb__I")
}
record (ai,"SR:C03{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C03{UPS}I:OutputPc__I")
}
record (ai,"SR:C03{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C03{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C03{UPS}I:Output__Calc")
{
        field(INPA, "SR:C03{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C03{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C03{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C03{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C03{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C03{UPS}Val:%Battery__I")
    field(FLNK, "SR:C03{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C03{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C03{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C03{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C03{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C03{UPS}V:Battery__I")
}

record (longin,"SR:C03{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C03{UPS}T:UPSAir__I")
}


record (longin,"SR:C03{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C03{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C03{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C03{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C03{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C03{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C03{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C03{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C03{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C03{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C03{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C03{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C03{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.3 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C04{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C03{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C03{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C03{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.3 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C03{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C03{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C03{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C03{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C03{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C03{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C03{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C03{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C03{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C03{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C03{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C03{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C03{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C03{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C03{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C03{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C03{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C03{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C03{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C03{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C04{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C04{UPS}Sts:_Sts")
    field(FLNK, "SR:C04{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C04{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C04{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C04{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.4 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C04{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C04{UPS}Sts:_Sts")
    #field(FLNK, "SR:C04{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C04{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C04{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C04{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C04{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C04{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C04{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C04{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C04{UPS}Sts:_Sts")
}

record(mbbi, "SR:C04{UPS}Sts:_Sts")
{
    field(INP, "SR:C04{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C04{UPS}M:Raw__I")
}

record (longin,"SR:C04{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(FLNK, "SR:C04{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C04{UPS}M:_I")
{
    field(INP, "SR:C04{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C04{UPS}Val:%Load__I")
}


record (ai,"SR:C04{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C04{UPS}V:Input__I")
    field(FLNK, "SR:C04{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C04{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C04{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C04{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C04{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C04{UPS}I:Input__I")
}

record (ai,"SR:C04{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C04{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C04{UPS}I:Input__Calc")
{
        field(INPA, "SR:C04{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C04{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C04{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.4 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C04{UPS}V:Output__I")   
#}

record (ai,"SR:C04{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C04{UPS}V:Output__I")   
    field(FLNK, "SR:C04{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C04{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C04{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C04{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C04{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C04{UPS}I:OutputPa__I")
}

record (ai,"SR:C04{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C04{UPS}I:OutputPb__I")
}
record (ai,"SR:C04{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C04{UPS}I:OutputPc__I")
}
record (ai,"SR:C04{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C04{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C04{UPS}I:Output__Calc")
{
        field(INPA, "SR:C04{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C04{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C04{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C04{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C04{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C04{UPS}Val:%Battery__I")
    field(FLNK, "SR:C04{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C04{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C04{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C04{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C04{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C04{UPS}V:Battery__I")
}

record (longin,"SR:C04{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C04{UPS}T:UPSAir__I")
}


record (longin,"SR:C04{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C04{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C04{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C04{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C04{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C04{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C04{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C04{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C04{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C04{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C04{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C04{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C04{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.4 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C05{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C04{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C04{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C04{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.4 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C04{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C04{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C04{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C04{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C04{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C04{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C04{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C04{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C04{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C04{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C04{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C04{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C04{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C04{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C04{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C04{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C04{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C04{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C04{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C04{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C05{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C05{UPS}Sts:_Sts")
    field(FLNK, "SR:C05{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C05{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C05{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C05{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.5 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C05{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C05{UPS}Sts:_Sts")
    #field(FLNK, "SR:C05{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C05{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C05{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C05{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C05{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C05{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C05{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C05{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C05{UPS}Sts:_Sts")
}

record(mbbi, "SR:C05{UPS}Sts:_Sts")
{
    field(INP, "SR:C05{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C05{UPS}M:Raw__I")
}

record (longin,"SR:C05{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(FLNK, "SR:C05{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C05{UPS}M:_I")
{
    field(INP, "SR:C05{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C05{UPS}Val:%Load__I")
}


record (ai,"SR:C05{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C05{UPS}V:Input__I")
    field(FLNK, "SR:C05{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C05{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C05{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C05{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C05{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C05{UPS}I:Input__I")
}

record (ai,"SR:C05{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C05{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C05{UPS}I:Input__Calc")
{
        field(INPA, "SR:C05{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C05{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C05{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.5 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C05{UPS}V:Output__I")   
#}

record (ai,"SR:C05{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C05{UPS}V:Output__I")   
    field(FLNK, "SR:C05{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C05{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C05{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C05{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C05{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C05{UPS}I:OutputPa__I")
}

record (ai,"SR:C05{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C05{UPS}I:OutputPb__I")
}
record (ai,"SR:C05{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C05{UPS}I:OutputPc__I")
}
record (ai,"SR:C05{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C05{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C05{UPS}I:Output__Calc")
{
        field(INPA, "SR:C05{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C05{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C05{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C05{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C05{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C05{UPS}Val:%Battery__I")
    field(FLNK, "SR:C05{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C05{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C05{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C05{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C05{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C05{UPS}V:Battery__I")
}

record (longin,"SR:C05{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C05{UPS}T:UPSAir__I")
}


record (longin,"SR:C05{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C05{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C05{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C05{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C05{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C05{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C05{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C05{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C05{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C05{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C05{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C05{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C05{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.5 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C06{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C05{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C05{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C05{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.5 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C05{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C05{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C05{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C05{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C05{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C05{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C05{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C05{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C05{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C05{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C05{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C05{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C05{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C05{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C05{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C05{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C05{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C05{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C05{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C05{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C06{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C06{UPS}Sts:_Sts")
    field(FLNK, "SR:C06{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C06{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C06{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C06{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.6 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C06{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C06{UPS}Sts:_Sts")
    #field(FLNK, "SR:C06{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C06{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C06{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C06{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C06{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C06{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C06{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C06{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C06{UPS}Sts:_Sts")
}

record(mbbi, "SR:C06{UPS}Sts:_Sts")
{
    field(INP, "SR:C06{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C06{UPS}M:Raw__I")
}

record (longin,"SR:C06{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(FLNK, "SR:C06{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C06{UPS}M:_I")
{
    field(INP, "SR:C06{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C06{UPS}Val:%Load__I")
}


record (ai,"SR:C06{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C06{UPS}V:Input__I")
    field(FLNK, "SR:C06{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C06{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C06{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C06{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C06{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C06{UPS}I:Input__I")
}

record (ai,"SR:C06{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C06{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C06{UPS}I:Input__Calc")
{
        field(INPA, "SR:C06{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C06{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C06{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.6 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C06{UPS}V:Output__I")   
#}

record (ai,"SR:C06{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C06{UPS}V:Output__I")   
    field(FLNK, "SR:C06{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C06{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C06{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C06{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C06{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C06{UPS}I:OutputPa__I")
}

record (ai,"SR:C06{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C06{UPS}I:OutputPb__I")
}
record (ai,"SR:C06{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C06{UPS}I:OutputPc__I")
}
record (ai,"SR:C06{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C06{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C06{UPS}I:Output__Calc")
{
        field(INPA, "SR:C06{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C06{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C06{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C06{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C06{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C06{UPS}Val:%Battery__I")
    field(FLNK, "SR:C06{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C06{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C06{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C06{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C06{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C06{UPS}V:Battery__I")
}

record (longin,"SR:C06{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C06{UPS}T:UPSAir__I")
}


record (longin,"SR:C06{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C06{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C06{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C06{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C06{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C06{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C06{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C06{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C06{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C06{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C06{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C06{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C06{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.6 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C07{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C06{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C06{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C06{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.6 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C06{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C06{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C06{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C06{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C06{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C06{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C06{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C06{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C06{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C06{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C06{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C06{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C06{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C06{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C06{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C06{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C06{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C06{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C06{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C06{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C07{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C07{UPS}Sts:_Sts")
    field(FLNK, "SR:C07{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C07{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C07{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C07{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.7 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C07{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C07{UPS}Sts:_Sts")
    #field(FLNK, "SR:C07{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C07{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C07{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C07{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C07{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C07{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C07{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C07{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C07{UPS}Sts:_Sts")
}

record(mbbi, "SR:C07{UPS}Sts:_Sts")
{
    field(INP, "SR:C07{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C07{UPS}M:Raw__I")
}

record (longin,"SR:C07{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(FLNK, "SR:C07{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C07{UPS}M:_I")
{
    field(INP, "SR:C07{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C07{UPS}Val:%Load__I")
}


record (ai,"SR:C07{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C07{UPS}V:Input__I")
    field(FLNK, "SR:C07{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C07{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C07{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C07{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C07{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C07{UPS}I:Input__I")
}

record (ai,"SR:C07{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C07{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C07{UPS}I:Input__Calc")
{
        field(INPA, "SR:C07{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C07{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C07{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.7 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C07{UPS}V:Output__I")   
#}

record (ai,"SR:C07{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C07{UPS}V:Output__I")   
    field(FLNK, "SR:C07{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C07{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C07{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C07{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C07{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C07{UPS}I:OutputPa__I")
}

record (ai,"SR:C07{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C07{UPS}I:OutputPb__I")
}
record (ai,"SR:C07{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C07{UPS}I:OutputPc__I")
}
record (ai,"SR:C07{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C07{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C07{UPS}I:Output__Calc")
{
        field(INPA, "SR:C07{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C07{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C07{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C07{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C07{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C07{UPS}Val:%Battery__I")
    field(FLNK, "SR:C07{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C07{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C07{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C07{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C07{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C07{UPS}V:Battery__I")
}

record (longin,"SR:C07{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C07{UPS}T:UPSAir__I")
}


record (longin,"SR:C07{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C07{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C07{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C07{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C07{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C07{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C07{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C07{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C07{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C07{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C07{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C07{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C07{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.7 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C08{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C07{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C07{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C07{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.7 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C07{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C07{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C07{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C07{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C07{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C07{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C07{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C07{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C07{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C07{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C07{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C07{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C07{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C07{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C07{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C07{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C07{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C07{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C07{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C07{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C08{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C08{UPS}Sts:_Sts")
    field(FLNK, "SR:C08{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C08{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C08{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C08{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.8 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C08{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C08{UPS}Sts:_Sts")
    #field(FLNK, "SR:C08{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C08{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C08{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C08{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C08{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C08{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C08{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C08{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C08{UPS}Sts:_Sts")
}

record(mbbi, "SR:C08{UPS}Sts:_Sts")
{
    field(INP, "SR:C08{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C08{UPS}M:Raw__I")
}

record (longin,"SR:C08{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(FLNK, "SR:C08{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C08{UPS}M:_I")
{
    field(INP, "SR:C08{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C08{UPS}Val:%Load__I")
}


record (ai,"SR:C08{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C08{UPS}V:Input__I")
    field(FLNK, "SR:C08{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C08{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C08{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C08{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C08{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C08{UPS}I:Input__I")
}

record (ai,"SR:C08{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C08{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C08{UPS}I:Input__Calc")
{
        field(INPA, "SR:C08{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C08{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C08{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.8 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C08{UPS}V:Output__I")   
#}

record (ai,"SR:C08{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C08{UPS}V:Output__I")   
    field(FLNK, "SR:C08{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C08{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C08{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C08{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C08{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C08{UPS}I:OutputPa__I")
}

record (ai,"SR:C08{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C08{UPS}I:OutputPb__I")
}
record (ai,"SR:C08{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C08{UPS}I:OutputPc__I")
}
record (ai,"SR:C08{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C08{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C08{UPS}I:Output__Calc")
{
        field(INPA, "SR:C08{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C08{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C08{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C08{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C08{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C08{UPS}Val:%Battery__I")
    field(FLNK, "SR:C08{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C08{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C08{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C08{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C08{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C08{UPS}V:Battery__I")
}

record (longin,"SR:C08{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C08{UPS}T:UPSAir__I")
}


record (longin,"SR:C08{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C08{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C08{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C08{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C08{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C08{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C08{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C08{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C08{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C08{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C08{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C08{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C08{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.8 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C09{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C08{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C08{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C08{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.8 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C08{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C08{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C08{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C08{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C08{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C08{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C08{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C08{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C08{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C08{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C08{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C08{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C08{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C08{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C08{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C08{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C08{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C08{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C08{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C08{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C09{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C09{UPS}Sts:_Sts")
    field(FLNK, "SR:C09{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C09{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C09{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C09{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.9 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C09{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C09{UPS}Sts:_Sts")
    #field(FLNK, "SR:C09{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C09{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C09{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C09{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C09{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C09{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C09{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C09{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C09{UPS}Sts:_Sts")
}

record(mbbi, "SR:C09{UPS}Sts:_Sts")
{
    field(INP, "SR:C09{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C09{UPS}M:Raw__I")
}

record (longin,"SR:C09{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(FLNK, "SR:C09{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C09{UPS}M:_I")
{
    field(INP, "SR:C09{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C09{UPS}Val:%Load__I")
}


record (ai,"SR:C09{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C09{UPS}V:Input__I")
    field(FLNK, "SR:C09{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C09{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C09{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C09{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C09{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C09{UPS}I:Input__I")
}

record (ai,"SR:C09{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C09{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C09{UPS}I:Input__Calc")
{
        field(INPA, "SR:C09{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C09{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C09{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.9 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C09{UPS}V:Output__I")   
#}

record (ai,"SR:C09{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C09{UPS}V:Output__I")   
    field(FLNK, "SR:C09{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C09{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C09{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C09{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C09{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C09{UPS}I:OutputPa__I")
}

record (ai,"SR:C09{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C09{UPS}I:OutputPb__I")
}
record (ai,"SR:C09{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C09{UPS}I:OutputPc__I")
}
record (ai,"SR:C09{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C09{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C09{UPS}I:Output__Calc")
{
        field(INPA, "SR:C09{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C09{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C09{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C09{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C09{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C09{UPS}Val:%Battery__I")
    field(FLNK, "SR:C09{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C09{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C09{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C09{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C09{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C09{UPS}V:Battery__I")
}

record (longin,"SR:C09{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C09{UPS}T:UPSAir__I")
}


record (longin,"SR:C09{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C09{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C09{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C09{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C09{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C09{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C09{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C09{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C09{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C09{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C09{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C09{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C09{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.9 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C10{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C09{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C09{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C09{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.9 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C09{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C09{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C09{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C09{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C09{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C09{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C09{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C09{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C09{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C09{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C09{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C09{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C09{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C09{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C09{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C09{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C09{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C09{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C09{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C09{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C10{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C10{UPS}Sts:_Sts")
    field(FLNK, "SR:C10{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C10{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C10{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C10{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.10 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C10{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C10{UPS}Sts:_Sts")
    #field(FLNK, "SR:C10{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C10{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C10{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C10{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C10{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C10{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C10{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C10{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C10{UPS}Sts:_Sts")
}

record(mbbi, "SR:C10{UPS}Sts:_Sts")
{
    field(INP, "SR:C10{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C10{UPS}M:Raw__I")
}

record (longin,"SR:C10{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(FLNK, "SR:C10{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C10{UPS}M:_I")
{
    field(INP, "SR:C10{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C10{UPS}Val:%Load__I")
}


record (ai,"SR:C10{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C10{UPS}V:Input__I")
    field(FLNK, "SR:C10{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C10{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C10{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C10{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C10{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C10{UPS}I:Input__I")
}

record (ai,"SR:C10{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C10{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C10{UPS}I:Input__Calc")
{
        field(INPA, "SR:C10{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C10{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C10{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.10 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C10{UPS}V:Output__I")   
#}

record (ai,"SR:C10{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C10{UPS}V:Output__I")   
    field(FLNK, "SR:C10{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C10{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C10{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C10{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C10{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C10{UPS}I:OutputPa__I")
}

record (ai,"SR:C10{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C10{UPS}I:OutputPb__I")
}
record (ai,"SR:C10{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C10{UPS}I:OutputPc__I")
}
record (ai,"SR:C10{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C10{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C10{UPS}I:Output__Calc")
{
        field(INPA, "SR:C10{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C10{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C10{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C10{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C10{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C10{UPS}Val:%Battery__I")
    field(FLNK, "SR:C10{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C10{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C10{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C10{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C10{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C10{UPS}V:Battery__I")
}

record (longin,"SR:C10{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C10{UPS}T:UPSAir__I")
}


record (longin,"SR:C10{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C10{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C10{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C10{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C10{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C10{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C10{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C10{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C10{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C10{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C10{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C10{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C10{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.10 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C11{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C10{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C10{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C10{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.10 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C10{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C10{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C10{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C10{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C10{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C10{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C10{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C10{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C10{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C10{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C10{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C10{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C10{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C10{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C10{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C10{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C10{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C10{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C10{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C10{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C11{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C11{UPS}Sts:_Sts")
    field(FLNK, "SR:C11{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C11{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C11{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C11{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.11 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C11{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C11{UPS}Sts:_Sts")
    #field(FLNK, "SR:C11{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C11{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C11{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C11{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C11{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C11{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C11{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C11{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C11{UPS}Sts:_Sts")
}

record(mbbi, "SR:C11{UPS}Sts:_Sts")
{
    field(INP, "SR:C11{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C11{UPS}M:Raw__I")
}

record (longin,"SR:C11{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(FLNK, "SR:C11{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C11{UPS}M:_I")
{
    field(INP, "SR:C11{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C11{UPS}Val:%Load__I")
}


record (ai,"SR:C11{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C11{UPS}V:Input__I")
    field(FLNK, "SR:C11{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C11{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C11{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C11{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C11{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C11{UPS}I:Input__I")
}

record (ai,"SR:C11{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C11{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C11{UPS}I:Input__Calc")
{
        field(INPA, "SR:C11{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C11{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C11{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.11 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C11{UPS}V:Output__I")   
#}

record (ai,"SR:C11{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C11{UPS}V:Output__I")   
    field(FLNK, "SR:C11{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C11{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C11{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C11{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C11{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C11{UPS}I:OutputPa__I")
}

record (ai,"SR:C11{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C11{UPS}I:OutputPb__I")
}
record (ai,"SR:C11{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C11{UPS}I:OutputPc__I")
}
record (ai,"SR:C11{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C11{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C11{UPS}I:Output__Calc")
{
        field(INPA, "SR:C11{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C11{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C11{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C11{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C11{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C11{UPS}Val:%Battery__I")
    field(FLNK, "SR:C11{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C11{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C11{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C11{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C11{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C11{UPS}V:Battery__I")
}

record (longin,"SR:C11{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C11{UPS}T:UPSAir__I")
}


record (longin,"SR:C11{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C11{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C11{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C11{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C11{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C11{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C11{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C11{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C11{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C11{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C11{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C11{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C11{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.11 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C12{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C11{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C11{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C11{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.11 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C11{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C11{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C11{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C11{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C11{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C11{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C11{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C11{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C11{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C11{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C11{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C11{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C11{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C11{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C11{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C11{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C11{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C11{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C11{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C11{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C12{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C12{UPS}Sts:_Sts")
    field(FLNK, "SR:C12{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C12{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C12{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C12{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.12 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C12{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C12{UPS}Sts:_Sts")
    #field(FLNK, "SR:C12{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C12{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C12{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C12{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C12{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C12{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C12{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C12{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C12{UPS}Sts:_Sts")
}

record(mbbi, "SR:C12{UPS}Sts:_Sts")
{
    field(INP, "SR:C12{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C12{UPS}M:Raw__I")
}

record (longin,"SR:C12{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(FLNK, "SR:C12{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C12{UPS}M:_I")
{
    field(INP, "SR:C12{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C12{UPS}Val:%Load__I")
}


record (ai,"SR:C12{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C12{UPS}V:Input__I")
    field(FLNK, "SR:C12{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C12{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C12{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C12{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C12{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C12{UPS}I:Input__I")
}

record (ai,"SR:C12{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C12{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C12{UPS}I:Input__Calc")
{
        field(INPA, "SR:C12{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C12{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C12{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.12 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C12{UPS}V:Output__I")   
#}

record (ai,"SR:C12{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C12{UPS}V:Output__I")   
    field(FLNK, "SR:C12{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C12{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C12{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C12{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C12{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C12{UPS}I:OutputPa__I")
}

record (ai,"SR:C12{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C12{UPS}I:OutputPb__I")
}
record (ai,"SR:C12{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C12{UPS}I:OutputPc__I")
}
record (ai,"SR:C12{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C12{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C12{UPS}I:Output__Calc")
{
        field(INPA, "SR:C12{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C12{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C12{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C12{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C12{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C12{UPS}Val:%Battery__I")
    field(FLNK, "SR:C12{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C12{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C12{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C12{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C12{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C12{UPS}V:Battery__I")
}

record (longin,"SR:C12{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C12{UPS}T:UPSAir__I")
}


record (longin,"SR:C12{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C12{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C12{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C12{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C12{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C12{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C12{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C12{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C12{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C12{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C12{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C12{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C12{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.12 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C13{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C12{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C12{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C12{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.12 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C12{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C12{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C12{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C12{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C12{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C12{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C12{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C12{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C12{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C12{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C12{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C12{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C12{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C12{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C12{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C12{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C12{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C12{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C12{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C12{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C13{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C13{UPS}Sts:_Sts")
    field(FLNK, "SR:C13{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C13{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C13{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C13{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.13 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C13{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C13{UPS}Sts:_Sts")
    #field(FLNK, "SR:C13{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C13{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C13{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C13{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C13{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C13{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C13{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C13{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C13{UPS}Sts:_Sts")
}

record(mbbi, "SR:C13{UPS}Sts:_Sts")
{
    field(INP, "SR:C13{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C13{UPS}M:Raw__I")
}

record (longin,"SR:C13{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(FLNK, "SR:C13{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C13{UPS}M:_I")
{
    field(INP, "SR:C13{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C13{UPS}Val:%Load__I")
}


record (ai,"SR:C13{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C13{UPS}V:Input__I")
    field(FLNK, "SR:C13{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C13{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C13{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C13{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C13{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C13{UPS}I:Input__I")
}

record (ai,"SR:C13{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C13{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C13{UPS}I:Input__Calc")
{
        field(INPA, "SR:C13{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C13{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C13{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.13 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C13{UPS}V:Output__I")   
#}

record (ai,"SR:C13{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C13{UPS}V:Output__I")   
    field(FLNK, "SR:C13{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C13{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C13{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C13{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C13{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C13{UPS}I:OutputPa__I")
}

record (ai,"SR:C13{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C13{UPS}I:OutputPb__I")
}
record (ai,"SR:C13{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C13{UPS}I:OutputPc__I")
}
record (ai,"SR:C13{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C13{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C13{UPS}I:Output__Calc")
{
        field(INPA, "SR:C13{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C13{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C13{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C13{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C13{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C13{UPS}Val:%Battery__I")
    field(FLNK, "SR:C13{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C13{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C13{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C13{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C13{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C13{UPS}V:Battery__I")
}

record (longin,"SR:C13{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C13{UPS}T:UPSAir__I")
}


record (longin,"SR:C13{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C13{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C13{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C13{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C13{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C13{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C13{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C13{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C13{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C13{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C13{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C13{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C13{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.13 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C14{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C13{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C13{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C13{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.13 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C13{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C13{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C13{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C13{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C13{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C13{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C13{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C13{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C13{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C13{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C13{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C13{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C13{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C13{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C13{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C13{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C13{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C13{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C13{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C13{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C14{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C14{UPS}Sts:_Sts")
    field(FLNK, "SR:C14{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C14{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C14{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C14{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.14 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C14{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C14{UPS}Sts:_Sts")
    #field(FLNK, "SR:C14{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C14{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C14{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C14{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C14{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C14{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C14{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C14{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C14{UPS}Sts:_Sts")
}

record(mbbi, "SR:C14{UPS}Sts:_Sts")
{
    field(INP, "SR:C14{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C14{UPS}M:Raw__I")
}

record (longin,"SR:C14{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(FLNK, "SR:C14{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C14{UPS}M:_I")
{
    field(INP, "SR:C14{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C14{UPS}Val:%Load__I")
}


record (ai,"SR:C14{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C14{UPS}V:Input__I")
    field(FLNK, "SR:C14{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C14{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C14{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C14{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C14{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C14{UPS}I:Input__I")
}

record (ai,"SR:C14{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C14{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C14{UPS}I:Input__Calc")
{
        field(INPA, "SR:C14{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C14{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C14{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.14 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C14{UPS}V:Output__I")   
#}

record (ai,"SR:C14{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C14{UPS}V:Output__I")   
    field(FLNK, "SR:C14{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C14{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C14{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C14{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C14{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C14{UPS}I:OutputPa__I")
}

record (ai,"SR:C14{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C14{UPS}I:OutputPb__I")
}
record (ai,"SR:C14{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C14{UPS}I:OutputPc__I")
}
record (ai,"SR:C14{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C14{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C14{UPS}I:Output__Calc")
{
        field(INPA, "SR:C14{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C14{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C14{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C14{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C14{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C14{UPS}Val:%Battery__I")
    field(FLNK, "SR:C14{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C14{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C14{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C14{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C14{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C14{UPS}V:Battery__I")
}

record (longin,"SR:C14{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C14{UPS}T:UPSAir__I")
}


record (longin,"SR:C14{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C14{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C14{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C14{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C14{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C14{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C14{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C14{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C14{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C14{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C14{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C14{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C14{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.14 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C15{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C14{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C14{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C14{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.14 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C14{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C14{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C14{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C14{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C14{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C14{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C14{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C14{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C14{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C14{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C14{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C14{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C14{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C14{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C14{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C14{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C14{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C14{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C14{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C14{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C15{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C15{UPS}Sts:_Sts")
    field(FLNK, "SR:C15{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C15{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C15{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C15{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.15 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C15{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C15{UPS}Sts:_Sts")
    #field(FLNK, "SR:C15{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C15{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C15{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C15{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C15{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C15{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C15{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C15{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C15{UPS}Sts:_Sts")
}

record(mbbi, "SR:C15{UPS}Sts:_Sts")
{
    field(INP, "SR:C15{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C15{UPS}M:Raw__I")
}

record (longin,"SR:C15{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(FLNK, "SR:C15{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C15{UPS}M:_I")
{
    field(INP, "SR:C15{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C15{UPS}Val:%Load__I")
}


record (ai,"SR:C15{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C15{UPS}V:Input__I")
    field(FLNK, "SR:C15{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C15{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C15{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C15{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C15{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C15{UPS}I:Input__I")
}

record (ai,"SR:C15{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C15{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C15{UPS}I:Input__Calc")
{
        field(INPA, "SR:C15{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C15{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C15{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.15 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C15{UPS}V:Output__I")   
#}

record (ai,"SR:C15{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C15{UPS}V:Output__I")   
    field(FLNK, "SR:C15{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C15{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C15{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C15{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C15{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C15{UPS}I:OutputPa__I")
}

record (ai,"SR:C15{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C15{UPS}I:OutputPb__I")
}
record (ai,"SR:C15{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C15{UPS}I:OutputPc__I")
}
record (ai,"SR:C15{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C15{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C15{UPS}I:Output__Calc")
{
        field(INPA, "SR:C15{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C15{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C15{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C15{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C15{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C15{UPS}Val:%Battery__I")
    field(FLNK, "SR:C15{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C15{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C15{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C15{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C15{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C15{UPS}V:Battery__I")
}

record (longin,"SR:C15{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C15{UPS}T:UPSAir__I")
}


record (longin,"SR:C15{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C15{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C15{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C15{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C15{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C15{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C15{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C15{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C15{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C15{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C15{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C15{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C15{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.15 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C16{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C15{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C15{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C15{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.15 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C15{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C15{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C15{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C15{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C15{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C15{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C15{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C15{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C15{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C15{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C15{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C15{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C15{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C15{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C15{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C15{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C15{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C15{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C15{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C15{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C16{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C16{UPS}Sts:_Sts")
    field(FLNK, "SR:C16{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C16{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C16{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C16{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.16 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C16{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C16{UPS}Sts:_Sts")
    #field(FLNK, "SR:C16{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C16{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C16{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C16{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C16{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C16{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C16{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C16{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C16{UPS}Sts:_Sts")
}

record(mbbi, "SR:C16{UPS}Sts:_Sts")
{
    field(INP, "SR:C16{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C16{UPS}M:Raw__I")
}

record (longin,"SR:C16{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(FLNK, "SR:C16{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C16{UPS}M:_I")
{
    field(INP, "SR:C16{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C16{UPS}Val:%Load__I")
}


record (ai,"SR:C16{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C16{UPS}V:Input__I")
    field(FLNK, "SR:C16{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C16{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C16{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C16{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C16{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C16{UPS}I:Input__I")
}

record (ai,"SR:C16{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C16{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C16{UPS}I:Input__Calc")
{
        field(INPA, "SR:C16{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C16{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C16{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.16 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C16{UPS}V:Output__I")   
#}

record (ai,"SR:C16{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C16{UPS}V:Output__I")   
    field(FLNK, "SR:C16{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C16{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C16{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C16{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C16{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C16{UPS}I:OutputPa__I")
}

record (ai,"SR:C16{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C16{UPS}I:OutputPb__I")
}
record (ai,"SR:C16{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C16{UPS}I:OutputPc__I")
}
record (ai,"SR:C16{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C16{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C16{UPS}I:Output__Calc")
{
        field(INPA, "SR:C16{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C16{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C16{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C16{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C16{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C16{UPS}Val:%Battery__I")
    field(FLNK, "SR:C16{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C16{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C16{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C16{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C16{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C16{UPS}V:Battery__I")
}

record (longin,"SR:C16{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C16{UPS}T:UPSAir__I")
}


record (longin,"SR:C16{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C16{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C16{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C16{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C16{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C16{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C16{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C16{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C16{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C16{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C16{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C16{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C16{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.16 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C17{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C16{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C16{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C16{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.16 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C16{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C16{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C16{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C16{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C16{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C16{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C16{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C16{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C16{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C16{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C16{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C16{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C16{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C16{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C16{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C16{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C16{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C16{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C16{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C16{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C17{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C17{UPS}Sts:_Sts")
    field(FLNK, "SR:C17{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C17{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C17{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C17{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.17 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C17{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C17{UPS}Sts:_Sts")
    #field(FLNK, "SR:C17{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C17{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C17{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C17{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C17{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C17{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C17{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C17{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C17{UPS}Sts:_Sts")
}

record(mbbi, "SR:C17{UPS}Sts:_Sts")
{
    field(INP, "SR:C17{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C17{UPS}M:Raw__I")
}

record (longin,"SR:C17{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(FLNK, "SR:C17{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C17{UPS}M:_I")
{
    field(INP, "SR:C17{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C17{UPS}Val:%Load__I")
}


record (ai,"SR:C17{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C17{UPS}V:Input__I")
    field(FLNK, "SR:C17{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C17{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C17{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C17{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C17{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C17{UPS}I:Input__I")
}

record (ai,"SR:C17{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C17{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C17{UPS}I:Input__Calc")
{
        field(INPA, "SR:C17{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C17{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C17{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.17 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C17{UPS}V:Output__I")   
#}

record (ai,"SR:C17{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C17{UPS}V:Output__I")   
    field(FLNK, "SR:C17{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C17{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C17{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C17{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C17{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C17{UPS}I:OutputPa__I")
}

record (ai,"SR:C17{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C17{UPS}I:OutputPb__I")
}
record (ai,"SR:C17{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C17{UPS}I:OutputPc__I")
}
record (ai,"SR:C17{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C17{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C17{UPS}I:Output__Calc")
{
        field(INPA, "SR:C17{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C17{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C17{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C17{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C17{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C17{UPS}Val:%Battery__I")
    field(FLNK, "SR:C17{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C17{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C17{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C17{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C17{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C17{UPS}V:Battery__I")
}

record (longin,"SR:C17{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C17{UPS}T:UPSAir__I")
}


record (longin,"SR:C17{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C17{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C17{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C17{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C17{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C17{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C17{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C17{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C17{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C17{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C17{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C17{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C17{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.17 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C18{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C17{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C17{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C17{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.17 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C17{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C17{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C17{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C17{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C17{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C17{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C17{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C17{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C17{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C17{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C17{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C17{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C17{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C17{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C17{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C17{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C17{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C17{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C17{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C17{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C18{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C18{UPS}Sts:_Sts")
    field(FLNK, "SR:C18{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C18{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C18{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C18{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.18 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C18{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C18{UPS}Sts:_Sts")
    #field(FLNK, "SR:C18{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C18{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C18{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C18{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C18{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C18{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C18{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C18{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C18{UPS}Sts:_Sts")
}

record(mbbi, "SR:C18{UPS}Sts:_Sts")
{
    field(INP, "SR:C18{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C18{UPS}M:Raw__I")
}

record (longin,"SR:C18{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(FLNK, "SR:C18{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C18{UPS}M:_I")
{
    field(INP, "SR:C18{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C18{UPS}Val:%Load__I")
}


record (ai,"SR:C18{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C18{UPS}V:Input__I")
    field(FLNK, "SR:C18{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C18{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C18{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C18{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C18{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C18{UPS}I:Input__I")
}

record (ai,"SR:C18{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C18{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C18{UPS}I:Input__Calc")
{
        field(INPA, "SR:C18{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C18{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C18{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.18 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C18{UPS}V:Output__I")   
#}

record (ai,"SR:C18{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C18{UPS}V:Output__I")   
    field(FLNK, "SR:C18{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C18{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C18{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C18{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C18{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C18{UPS}I:OutputPa__I")
}

record (ai,"SR:C18{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C18{UPS}I:OutputPb__I")
}
record (ai,"SR:C18{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C18{UPS}I:OutputPc__I")
}
record (ai,"SR:C18{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C18{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C18{UPS}I:Output__Calc")
{
        field(INPA, "SR:C18{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C18{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C18{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C18{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C18{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C18{UPS}Val:%Battery__I")
    field(FLNK, "SR:C18{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C18{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C18{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C18{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C18{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C18{UPS}V:Battery__I")
}

record (longin,"SR:C18{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C18{UPS}T:UPSAir__I")
}


record (longin,"SR:C18{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C18{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C18{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C18{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C18{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C18{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C18{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C18{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C18{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C18{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C18{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C18{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C18{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.18 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C19{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C18{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C18{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C18{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.18 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C18{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C18{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C18{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C18{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C18{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C18{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C18{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C18{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C18{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C18{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C18{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C18{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C18{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C18{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C18{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C18{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C18{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C18{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C18{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C18{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C19{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C19{UPS}Sts:_Sts")
    field(FLNK, "SR:C19{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C19{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C19{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C19{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.19 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C19{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C19{UPS}Sts:_Sts")
    #field(FLNK, "SR:C19{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C19{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C19{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C19{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C19{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C19{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C19{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C19{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C19{UPS}Sts:_Sts")
}

record(mbbi, "SR:C19{UPS}Sts:_Sts")
{
    field(INP, "SR:C19{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C19{UPS}M:Raw__I")
}

record (longin,"SR:C19{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(FLNK, "SR:C19{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C19{UPS}M:_I")
{
    field(INP, "SR:C19{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C19{UPS}Val:%Load__I")
}


record (ai,"SR:C19{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C19{UPS}V:Input__I")
    field(FLNK, "SR:C19{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C19{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C19{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C19{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C19{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C19{UPS}I:Input__I")
}

record (ai,"SR:C19{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C19{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C19{UPS}I:Input__Calc")
{
        field(INPA, "SR:C19{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C19{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C19{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.19 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C19{UPS}V:Output__I")   
#}

record (ai,"SR:C19{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C19{UPS}V:Output__I")   
    field(FLNK, "SR:C19{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C19{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C19{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C19{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C19{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C19{UPS}I:OutputPa__I")
}

record (ai,"SR:C19{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C19{UPS}I:OutputPb__I")
}
record (ai,"SR:C19{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C19{UPS}I:OutputPc__I")
}
record (ai,"SR:C19{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C19{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C19{UPS}I:Output__Calc")
{
        field(INPA, "SR:C19{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C19{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C19{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C19{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C19{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C19{UPS}Val:%Battery__I")
    field(FLNK, "SR:C19{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C19{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C19{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C19{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C19{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C19{UPS}V:Battery__I")
}

record (longin,"SR:C19{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C19{UPS}T:UPSAir__I")
}


record (longin,"SR:C19{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C19{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C19{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C19{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C19{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C19{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C19{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C19{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C19{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C19{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C19{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C19{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C19{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.19 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C20{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C19{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C19{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C19{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.19 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C19{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C19{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C19{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C19{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C19{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C19{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C19{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C19{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C19{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C19{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C19{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C19{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C19{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C19{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C19{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C19{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C19{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C19{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C19{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C19{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C20{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C20{UPS}Sts:_Sts")
    field(FLNK, "SR:C20{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C20{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C20{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C20{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.20 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C20{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C20{UPS}Sts:_Sts")
    #field(FLNK, "SR:C20{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C20{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C20{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C20{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C20{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C20{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C20{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C20{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C20{UPS}Sts:_Sts")
}

record(mbbi, "SR:C20{UPS}Sts:_Sts")
{
    field(INP, "SR:C20{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C20{UPS}M:Raw__I")
}

record (longin,"SR:C20{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(FLNK, "SR:C20{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C20{UPS}M:_I")
{
    field(INP, "SR:C20{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C20{UPS}Val:%Load__I")
}


record (ai,"SR:C20{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C20{UPS}V:Input__I")
    field(FLNK, "SR:C20{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C20{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C20{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C20{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C20{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C20{UPS}I:Input__I")
}

record (ai,"SR:C20{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C20{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C20{UPS}I:Input__Calc")
{
        field(INPA, "SR:C20{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C20{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C20{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.20 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C20{UPS}V:Output__I")   
#}

record (ai,"SR:C20{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C20{UPS}V:Output__I")   
    field(FLNK, "SR:C20{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C20{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C20{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C20{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C20{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C20{UPS}I:OutputPa__I")
}

record (ai,"SR:C20{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C20{UPS}I:OutputPb__I")
}
record (ai,"SR:C20{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C20{UPS}I:OutputPc__I")
}
record (ai,"SR:C20{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C20{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C20{UPS}I:Output__Calc")
{
        field(INPA, "SR:C20{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C20{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C20{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C20{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C20{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C20{UPS}Val:%Battery__I")
    field(FLNK, "SR:C20{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C20{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C20{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C20{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C20{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C20{UPS}V:Battery__I")
}

record (longin,"SR:C20{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C20{UPS}T:UPSAir__I")
}


record (longin,"SR:C20{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C20{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C20{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C20{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C20{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C20{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C20{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C20{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C20{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C20{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C20{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C20{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C20{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.20 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C21{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C20{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C20{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C20{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.20 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C20{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C20{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C20{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C20{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C20{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C20{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C20{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C20{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C20{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C20{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C20{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C20{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C20{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C20{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C20{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C20{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C20{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C20{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C20{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C20{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C21{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C21{UPS}Sts:_Sts")
    field(FLNK, "SR:C21{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C21{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C21{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C21{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.21 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C21{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C21{UPS}Sts:_Sts")
    #field(FLNK, "SR:C21{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C21{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C21{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C21{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C21{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C21{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C21{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C21{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C21{UPS}Sts:_Sts")
}

record(mbbi, "SR:C21{UPS}Sts:_Sts")
{
    field(INP, "SR:C21{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C21{UPS}M:Raw__I")
}

record (longin,"SR:C21{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(FLNK, "SR:C21{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C21{UPS}M:_I")
{
    field(INP, "SR:C21{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C21{UPS}Val:%Load__I")
}


record (ai,"SR:C21{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C21{UPS}V:Input__I")
    field(FLNK, "SR:C21{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C21{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C21{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C21{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C21{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C21{UPS}I:Input__I")
}

record (ai,"SR:C21{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C21{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C21{UPS}I:Input__Calc")
{
        field(INPA, "SR:C21{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C21{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C21{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.21 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C21{UPS}V:Output__I")   
#}

record (ai,"SR:C21{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C21{UPS}V:Output__I")   
    field(FLNK, "SR:C21{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C21{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C21{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C21{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C21{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C21{UPS}I:OutputPa__I")
}

record (ai,"SR:C21{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C21{UPS}I:OutputPb__I")
}
record (ai,"SR:C21{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C21{UPS}I:OutputPc__I")
}
record (ai,"SR:C21{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C21{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C21{UPS}I:Output__Calc")
{
        field(INPA, "SR:C21{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C21{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C21{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C21{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C21{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C21{UPS}Val:%Battery__I")
    field(FLNK, "SR:C21{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C21{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C21{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C21{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C21{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C21{UPS}V:Battery__I")
}

record (longin,"SR:C21{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C21{UPS}T:UPSAir__I")
}


record (longin,"SR:C21{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C21{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C21{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C21{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C21{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C21{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C21{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C21{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C21{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C21{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C21{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C21{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C21{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.21 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C22{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C21{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C21{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C21{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.21 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C21{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C21{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C21{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C21{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C21{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C21{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C21{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C21{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C21{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C21{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C21{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C21{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C21{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C21{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C21{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C21{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C21{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C21{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C21{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C21{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C22{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C22{UPS}Sts:_Sts")
    field(FLNK, "SR:C22{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C22{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C22{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C22{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.22 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C22{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C22{UPS}Sts:_Sts")
    #field(FLNK, "SR:C22{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C22{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C22{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C22{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C22{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C22{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C22{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C22{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C22{UPS}Sts:_Sts")
}

record(mbbi, "SR:C22{UPS}Sts:_Sts")
{
    field(INP, "SR:C22{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C22{UPS}M:Raw__I")
}

record (longin,"SR:C22{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(FLNK, "SR:C22{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C22{UPS}M:_I")
{
    field(INP, "SR:C22{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C22{UPS}Val:%Load__I")
}


record (ai,"SR:C22{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C22{UPS}V:Input__I")
    field(FLNK, "SR:C22{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C22{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C22{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C22{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C22{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C22{UPS}I:Input__I")
}

record (ai,"SR:C22{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C22{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C22{UPS}I:Input__Calc")
{
        field(INPA, "SR:C22{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C22{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C22{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.22 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C22{UPS}V:Output__I")   
#}

record (ai,"SR:C22{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C22{UPS}V:Output__I")   
    field(FLNK, "SR:C22{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C22{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C22{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C22{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C22{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C22{UPS}I:OutputPa__I")
}

record (ai,"SR:C22{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C22{UPS}I:OutputPb__I")
}
record (ai,"SR:C22{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C22{UPS}I:OutputPc__I")
}
record (ai,"SR:C22{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C22{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C22{UPS}I:Output__Calc")
{
        field(INPA, "SR:C22{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C22{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C22{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C22{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C22{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C22{UPS}Val:%Battery__I")
    field(FLNK, "SR:C22{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C22{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C22{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C22{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C22{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C22{UPS}V:Battery__I")
}

record (longin,"SR:C22{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C22{UPS}T:UPSAir__I")
}


record (longin,"SR:C22{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C22{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C22{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C22{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C22{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C22{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C22{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C22{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C22{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C22{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C22{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C22{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C22{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.22 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C23{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C22{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C22{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C22{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.22 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C22{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C22{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C22{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C22{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C22{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C22{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C22{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C22{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C22{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C22{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C22{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C22{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C22{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C22{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C22{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C22{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C22{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C22{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C22{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C22{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C23{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C23{UPS}Sts:_Sts")
    field(FLNK, "SR:C23{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C23{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C23{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C23{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.23 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C23{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C23{UPS}Sts:_Sts")
    #field(FLNK, "SR:C23{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C23{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C23{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C23{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C23{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C23{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C23{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C23{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C23{UPS}Sts:_Sts")
}

record(mbbi, "SR:C23{UPS}Sts:_Sts")
{
    field(INP, "SR:C23{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C23{UPS}M:Raw__I")
}

record (longin,"SR:C23{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(FLNK, "SR:C23{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C23{UPS}M:_I")
{
    field(INP, "SR:C23{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C23{UPS}Val:%Load__I")
}


record (ai,"SR:C23{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C23{UPS}V:Input__I")
    field(FLNK, "SR:C23{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C23{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C23{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C23{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C23{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C23{UPS}I:Input__I")
}

record (ai,"SR:C23{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C23{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C23{UPS}I:Input__Calc")
{
        field(INPA, "SR:C23{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C23{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C23{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.23 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C23{UPS}V:Output__I")   
#}

record (ai,"SR:C23{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C23{UPS}V:Output__I")   
    field(FLNK, "SR:C23{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C23{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C23{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C23{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C23{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C23{UPS}I:OutputPa__I")
}

record (ai,"SR:C23{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C23{UPS}I:OutputPb__I")
}
record (ai,"SR:C23{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C23{UPS}I:OutputPc__I")
}
record (ai,"SR:C23{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C23{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C23{UPS}I:Output__Calc")
{
        field(INPA, "SR:C23{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C23{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C23{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C23{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C23{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C23{UPS}Val:%Battery__I")
    field(FLNK, "SR:C23{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C23{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C23{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C23{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C23{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C23{UPS}V:Battery__I")
}

record (longin,"SR:C23{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C23{UPS}T:UPSAir__I")
}


record (longin,"SR:C23{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C23{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C23{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C23{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C23{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C23{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C23{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C23{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C23{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C23{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C23{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C23{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C23{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.23 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C24{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C23{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C23{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C23{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.23 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C23{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C23{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C23{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C23{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C23{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C23{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C23{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C23{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C23{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C23{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C23{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C23{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C23{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C23{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C23{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C23{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C23{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C23{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C23{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C23{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C24{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C24{UPS}Sts:_Sts")
    field(FLNK, "SR:C24{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C24{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C24{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C24{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.24 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C24{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C24{UPS}Sts:_Sts")
    #field(FLNK, "SR:C24{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C24{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C24{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C24{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C24{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C24{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C24{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C24{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C24{UPS}Sts:_Sts")
}

record(mbbi, "SR:C24{UPS}Sts:_Sts")
{
    field(INP, "SR:C24{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C24{UPS}M:Raw__I")
}

record (longin,"SR:C24{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(FLNK, "SR:C24{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C24{UPS}M:_I")
{
    field(INP, "SR:C24{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C24{UPS}Val:%Load__I")
}


record (ai,"SR:C24{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C24{UPS}V:Input__I")
    field(FLNK, "SR:C24{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C24{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C24{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C24{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C24{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C24{UPS}I:Input__I")
}

record (ai,"SR:C24{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C24{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C24{UPS}I:Input__Calc")
{
        field(INPA, "SR:C24{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C24{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C24{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.24 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C24{UPS}V:Output__I")   
#}

record (ai,"SR:C24{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C24{UPS}V:Output__I")   
    field(FLNK, "SR:C24{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C24{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C24{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C24{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C24{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C24{UPS}I:OutputPa__I")
}

record (ai,"SR:C24{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C24{UPS}I:OutputPb__I")
}
record (ai,"SR:C24{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C24{UPS}I:OutputPc__I")
}
record (ai,"SR:C24{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C24{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C24{UPS}I:Output__Calc")
{
        field(INPA, "SR:C24{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C24{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C24{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C24{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C24{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C24{UPS}Val:%Battery__I")
    field(FLNK, "SR:C24{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C24{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C24{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C24{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C24{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C24{UPS}V:Battery__I")
}

record (longin,"SR:C24{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C24{UPS}T:UPSAir__I")
}


record (longin,"SR:C24{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C24{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C24{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C24{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C24{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C24{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C24{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C24{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C24{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C24{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C24{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C24{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C24{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.24 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C25{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C24{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C24{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C24{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.24 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C24{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C24{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C24{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C24{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C24{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C24{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C24{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C24{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C24{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C24{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C24{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C24{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C24{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C24{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C24{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C24{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C24{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C24{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C24{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C24{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C25{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C25{UPS}Sts:_Sts")
    field(FLNK, "SR:C25{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C25{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C25{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C25{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.25 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C25{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C25{UPS}Sts:_Sts")
    #field(FLNK, "SR:C25{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C25{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C25{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C25{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C25{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C25{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C25{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C25{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C25{UPS}Sts:_Sts")
}

record(mbbi, "SR:C25{UPS}Sts:_Sts")
{
    field(INP, "SR:C25{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C25{UPS}M:Raw__I")
}

record (longin,"SR:C25{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(FLNK, "SR:C25{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C25{UPS}M:_I")
{
    field(INP, "SR:C25{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C25{UPS}Val:%Load__I")
}


record (ai,"SR:C25{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C25{UPS}V:Input__I")
    field(FLNK, "SR:C25{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C25{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C25{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C25{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C25{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C25{UPS}I:Input__I")
}

record (ai,"SR:C25{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C25{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C25{UPS}I:Input__Calc")
{
        field(INPA, "SR:C25{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C25{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C25{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.25 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C25{UPS}V:Output__I")   
#}

record (ai,"SR:C25{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C25{UPS}V:Output__I")   
    field(FLNK, "SR:C25{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C25{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C25{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C25{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C25{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C25{UPS}I:OutputPa__I")
}

record (ai,"SR:C25{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C25{UPS}I:OutputPb__I")
}
record (ai,"SR:C25{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C25{UPS}I:OutputPc__I")
}
record (ai,"SR:C25{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C25{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C25{UPS}I:Output__Calc")
{
        field(INPA, "SR:C25{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C25{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C25{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C25{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C25{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C25{UPS}Val:%Battery__I")
    field(FLNK, "SR:C25{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C25{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C25{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C25{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C25{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C25{UPS}V:Battery__I")
}

record (longin,"SR:C25{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C25{UPS}T:UPSAir__I")
}


record (longin,"SR:C25{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C25{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C25{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C25{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C25{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C25{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C25{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C25{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C25{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C25{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C25{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C25{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C25{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.25 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C26{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C25{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C25{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C25{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.25 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C25{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C25{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C25{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C25{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C25{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C25{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C25{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C25{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C25{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C25{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C25{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C25{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C25{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C25{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C25{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C25{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C25{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C25{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C25{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C25{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C26{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C26{UPS}Sts:_Sts")
    field(FLNK, "SR:C26{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C26{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C26{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C26{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.26 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C26{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C26{UPS}Sts:_Sts")
    #field(FLNK, "SR:C26{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C26{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C26{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C26{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C26{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C26{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C26{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C26{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C26{UPS}Sts:_Sts")
}

record(mbbi, "SR:C26{UPS}Sts:_Sts")
{
    field(INP, "SR:C26{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C26{UPS}M:Raw__I")
}

record (longin,"SR:C26{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(FLNK, "SR:C26{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C26{UPS}M:_I")
{
    field(INP, "SR:C26{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C26{UPS}Val:%Load__I")
}


record (ai,"SR:C26{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C26{UPS}V:Input__I")
    field(FLNK, "SR:C26{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C26{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C26{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C26{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C26{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C26{UPS}I:Input__I")
}

record (ai,"SR:C26{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C26{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C26{UPS}I:Input__Calc")
{
        field(INPA, "SR:C26{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C26{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C26{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.26 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C26{UPS}V:Output__I")   
#}

record (ai,"SR:C26{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C26{UPS}V:Output__I")   
    field(FLNK, "SR:C26{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C26{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C26{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C26{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C26{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C26{UPS}I:OutputPa__I")
}

record (ai,"SR:C26{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C26{UPS}I:OutputPb__I")
}
record (ai,"SR:C26{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C26{UPS}I:OutputPc__I")
}
record (ai,"SR:C26{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C26{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C26{UPS}I:Output__Calc")
{
        field(INPA, "SR:C26{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C26{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C26{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C26{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C26{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C26{UPS}Val:%Battery__I")
    field(FLNK, "SR:C26{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C26{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C26{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C26{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C26{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C26{UPS}V:Battery__I")
}

record (longin,"SR:C26{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C26{UPS}T:UPSAir__I")
}


record (longin,"SR:C26{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C26{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C26{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C26{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C26{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C26{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C26{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C26{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C26{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C26{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C26{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C26{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C26{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.26 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C27{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C26{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C26{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C26{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.26 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C26{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C26{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C26{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C26{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C26{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C26{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C26{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C26{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C26{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C26{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C26{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C26{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C26{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C26{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C26{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C26{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C26{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C26{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C26{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C26{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C27{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C27{UPS}Sts:_Sts")
    field(FLNK, "SR:C27{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C27{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C27{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C27{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.27 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C27{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C27{UPS}Sts:_Sts")
    #field(FLNK, "SR:C27{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C27{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C27{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C27{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C27{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C27{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C27{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C27{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C27{UPS}Sts:_Sts")
}

record(mbbi, "SR:C27{UPS}Sts:_Sts")
{
    field(INP, "SR:C27{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C27{UPS}M:Raw__I")
}

record (longin,"SR:C27{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(FLNK, "SR:C27{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C27{UPS}M:_I")
{
    field(INP, "SR:C27{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C27{UPS}Val:%Load__I")
}


record (ai,"SR:C27{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C27{UPS}V:Input__I")
    field(FLNK, "SR:C27{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C27{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C27{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C27{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C27{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C27{UPS}I:Input__I")
}

record (ai,"SR:C27{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C27{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C27{UPS}I:Input__Calc")
{
        field(INPA, "SR:C27{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C27{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C27{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.27 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C27{UPS}V:Output__I")   
#}

record (ai,"SR:C27{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C27{UPS}V:Output__I")   
    field(FLNK, "SR:C27{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C27{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C27{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C27{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C27{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C27{UPS}I:OutputPa__I")
}

record (ai,"SR:C27{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C27{UPS}I:OutputPb__I")
}
record (ai,"SR:C27{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C27{UPS}I:OutputPc__I")
}
record (ai,"SR:C27{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C27{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C27{UPS}I:Output__Calc")
{
        field(INPA, "SR:C27{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C27{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C27{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C27{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C27{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C27{UPS}Val:%Battery__I")
    field(FLNK, "SR:C27{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C27{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C27{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C27{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C27{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C27{UPS}V:Battery__I")
}

record (longin,"SR:C27{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C27{UPS}T:UPSAir__I")
}


record (longin,"SR:C27{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C27{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C27{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C27{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C27{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C27{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C27{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C27{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C27{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C27{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C27{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C27{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C27{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.27 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C28{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C27{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C27{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C27{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.27 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C27{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C27{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C27{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C27{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C27{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C27{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C27{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C27{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C27{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C27{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C27{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C27{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C27{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C27{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C27{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C27{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C27{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C27{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C27{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C27{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C28{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C28{UPS}Sts:_Sts")
    field(FLNK, "SR:C28{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C28{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C28{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C28{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.28 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C28{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C28{UPS}Sts:_Sts")
    #field(FLNK, "SR:C28{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C28{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C28{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C28{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C28{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C28{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C28{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C28{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C28{UPS}Sts:_Sts")
}

record(mbbi, "SR:C28{UPS}Sts:_Sts")
{
    field(INP, "SR:C28{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C28{UPS}M:Raw__I")
}

record (longin,"SR:C28{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(FLNK, "SR:C28{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C28{UPS}M:_I")
{
    field(INP, "SR:C28{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C28{UPS}Val:%Load__I")
}


record (ai,"SR:C28{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C28{UPS}V:Input__I")
    field(FLNK, "SR:C28{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C28{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C28{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C28{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C28{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C28{UPS}I:Input__I")
}

record (ai,"SR:C28{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C28{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C28{UPS}I:Input__Calc")
{
        field(INPA, "SR:C28{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C28{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C28{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.28 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C28{UPS}V:Output__I")   
#}

record (ai,"SR:C28{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C28{UPS}V:Output__I")   
    field(FLNK, "SR:C28{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C28{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C28{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C28{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C28{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C28{UPS}I:OutputPa__I")
}

record (ai,"SR:C28{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C28{UPS}I:OutputPb__I")
}
record (ai,"SR:C28{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C28{UPS}I:OutputPc__I")
}
record (ai,"SR:C28{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C28{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C28{UPS}I:Output__Calc")
{
        field(INPA, "SR:C28{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C28{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C28{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C28{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C28{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C28{UPS}Val:%Battery__I")
    field(FLNK, "SR:C28{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C28{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C28{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C28{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C28{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C28{UPS}V:Battery__I")
}

record (longin,"SR:C28{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C28{UPS}T:UPSAir__I")
}


record (longin,"SR:C28{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C28{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C28{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C28{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C28{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C28{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C28{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C28{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C28{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C28{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C28{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C28{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C28{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.28 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C29{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C28{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C28{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C28{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.28 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C28{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C28{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C28{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C28{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C28{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C28{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C28{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C28{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C28{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C28{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C28{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C28{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C28{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C28{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C28{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C28{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C28{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C28{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C28{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C28{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C29{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C29{UPS}Sts:_Sts")
    field(FLNK, "SR:C29{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C29{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C29{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C29{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.29 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C29{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C29{UPS}Sts:_Sts")
    #field(FLNK, "SR:C29{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C29{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C29{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C29{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C29{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C29{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C29{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C29{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C29{UPS}Sts:_Sts")
}

record(mbbi, "SR:C29{UPS}Sts:_Sts")
{
    field(INP, "SR:C29{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C29{UPS}M:Raw__I")
}

record (longin,"SR:C29{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(FLNK, "SR:C29{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C29{UPS}M:_I")
{
    field(INP, "SR:C29{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C29{UPS}Val:%Load__I")
}


record (ai,"SR:C29{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C29{UPS}V:Input__I")
    field(FLNK, "SR:C29{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C29{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C29{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C29{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C29{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C29{UPS}I:Input__I")
}

record (ai,"SR:C29{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C29{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C29{UPS}I:Input__Calc")
{
        field(INPA, "SR:C29{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C29{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C29{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.29 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C29{UPS}V:Output__I")   
#}

record (ai,"SR:C29{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C29{UPS}V:Output__I")   
    field(FLNK, "SR:C29{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C29{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C29{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C29{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C29{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C29{UPS}I:OutputPa__I")
}

record (ai,"SR:C29{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C29{UPS}I:OutputPb__I")
}
record (ai,"SR:C29{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C29{UPS}I:OutputPc__I")
}
record (ai,"SR:C29{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C29{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C29{UPS}I:Output__Calc")
{
        field(INPA, "SR:C29{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C29{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C29{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C29{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C29{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C29{UPS}Val:%Battery__I")
    field(FLNK, "SR:C29{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C29{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C29{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C29{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C29{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C29{UPS}V:Battery__I")
}

record (longin,"SR:C29{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C29{UPS}T:UPSAir__I")
}


record (longin,"SR:C29{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C29{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C29{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C29{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C29{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C29{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C29{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C29{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C29{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C29{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C29{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C29{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C29{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.29 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "SR:C30{UPS}Sts:Raw__Sts")
}


record(mbbo, "SR:C29{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C29{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C29{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.29 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C29{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C29{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C29{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C29{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C29{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C29{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C29{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C29{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C29{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C29{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C29{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C29{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C29{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C29{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C29{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C29{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C29{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C29{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C29{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C29{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"SR:C30{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "SR:C30{UPS}Sts:_Sts")
    field(FLNK, "SR:C30{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"SR:C30{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "SR:C30{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"SR:C30{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.30 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "SR:C30{UPS}Sts:Raw__Sts")
    # field(FLNK, "SR:C30{UPS}Sts:_Sts")
    #field(FLNK, "SR:C30{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "SR:C30{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "SR:C30{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "SR:C30{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "SR:C30{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "SR:C30{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"SR:C30{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "SR:C30{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "SR:C30{UPS}Sts:_Sts")
}

record(mbbi, "SR:C30{UPS}Sts:_Sts")
{
    field(INP, "SR:C30{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C30{UPS}M:Raw__I")
}

record (longin,"SR:C30{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(FLNK, "SR:C30{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "SR:C30{UPS}M:_I")
{
    field(INP, "SR:C30{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "SR:C30{UPS}Val:%Load__I")
}


record (ai,"SR:C30{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "SR:C30{UPS}V:Input__I")
    field(FLNK, "SR:C30{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "SR:C30{UPS}Val:%Load__Calc")
{
        field(INPA, "SR:C30{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "SR:C30{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C30{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "SR:C30{UPS}I:Input__I")
}

record (ai,"SR:C30{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "SR:C30{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "SR:C30{UPS}I:Input__Calc")
{
        field(INPA, "SR:C30{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "SR:C30{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"SR:C30{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.30 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C30{UPS}V:Output__I")   
#}

record (ai,"SR:C30{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "SR:C30{UPS}V:Output__I")   
    field(FLNK, "SR:C30{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "SR:C30{UPS}Freq:Input__Calc")
{
        field(INPA, "SR:C30{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "SR:C30{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"SR:C30{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "SR:C30{UPS}I:OutputPa__I")
}

record (ai,"SR:C30{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "SR:C30{UPS}I:OutputPb__I")
}
record (ai,"SR:C30{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "SR:C30{UPS}I:OutputPc__I")
}
record (ai,"SR:C30{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "SR:C30{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "SR:C30{UPS}I:Output__Calc")
{
        field(INPA, "SR:C30{UPS}I:OutputPa__I MS")
        field(INPB, "SR:C30{UPS}I:OutputPb__I MS")
        field(INPC, "SR:C30{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "SR:C30{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"SR:C30{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "SR:C30{UPS}Val:%Battery__I")
    field(FLNK, "SR:C30{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "SR:C30{UPS}Freq:Output__Calc")
{
        field(INPA, "SR:C30{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "SR:C30{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"SR:C30{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "SR:C30{UPS}V:Battery__I")
}

record (longin,"SR:C30{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "SR:C30{UPS}T:UPSAir__I")
}


record (longin,"SR:C30{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "SR:C30{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C30{UPS}T:UPSAir__Calc")
{
        field(INPA, "SR:C30{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "SR:C30{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"SR:C30{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "SR:C30{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "SR:C30{UPS}RH:UPSAir__Calc")
{
        field(INPA, "SR:C30{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "SR:C30{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"SR:C30{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "SR:C30{UPS}Time:BatteryLeft__I")
}

record (longin,"SR:C30{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.30 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:Raw__Sts")
}


record(mbbo, "SR:C30{UPS}Cmd:_Sel")
{

    field(OUT, "SR:C30{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"SR:C30{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.30 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "SR:C30{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "SR:C30{UPS}Sts:_Sts.SEVR")

        field(INPB, "SR:C30{UPS}V:Input__I.SEVR")
        field(INPC, "SR:C30{UPS}I:Input__Calc.SEVR")
        field(INPD, "SR:C30{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "SR:C30{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C30{UPS}V:Output__I.SEVR")
        field(INPB, "SR:C30{UPS}I:Output__Calc.SEVR")
        field(INPC, "SR:C30{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C30{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C30{UPS}V:Battery__I.SEVR")
        field(INPB, "SR:C30{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "SR:C30{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "SR:C30{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "SR:C30{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "SR:C30{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "SR:C30{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "SR:C30{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "SR:C30{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "SR:C30{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"CF:CmptrRm:CR{UPS:1}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:_Sts")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"CF:CmptrRm:CR{UPS:1}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTime__Sts")
}

record (stringin,"CF:CmptrRm:CR{UPS:1}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.31 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:Raw__Sts")
    # field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:_Sts")
    #field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:upsAlive__Sts")
}

record(scalcout, "CF:CmptrRm:CR{UPS:1}Sts:upsAlive__Sts")
{
    field(INAA, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTime__Sts NPP")
    field(INBB, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"CF:CmptrRm:CR{UPS:1}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "CF:CmptrRm:CR{UPS:1}Sts:upsAgentTime__Sts")
    
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Sts:_Sts")
}

record(mbbi, "CF:CmptrRm:CR{UPS:1}Sts:_Sts")
{
    field(INP, "CF:CmptrRm:CR{UPS:1}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}M:Raw__I")
}

record (longin,"CF:CmptrRm:CR{UPS:1}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "CF:CmptrRm:CR{UPS:1}M:_I")
{
    field(INP, "CF:CmptrRm:CR{UPS:1}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Val:%Load__I")
}


record (ai,"CF:CmptrRm:CR{UPS:1}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Input__I")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}Val:%Load__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:1}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:Input__I")
}

record (ai,"CF:CmptrRm:CR{UPS:1}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:Input__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}I:Input__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"CF:CmptrRm:CR{UPS:1}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.31 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Output__I")   
#}

record (ai,"CF:CmptrRm:CR{UPS:1}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Output__I")   
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}Freq:Input__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:1}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:OutputPa__I")
}

record (ai,"CF:CmptrRm:CR{UPS:1}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:OutputPb__I")
}
record (ai,"CF:CmptrRm:CR{UPS:1}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:OutputPc__I")
}
record (ai,"CF:CmptrRm:CR{UPS:1}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}I:Output__Calc")
}
#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}I:Output__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}I:OutputPa__I MS")
        field(INPB, "CF:CmptrRm:CR{UPS:1}I:OutputPb__I MS")
        field(INPC, "CF:CmptrRm:CR{UPS:1}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"CF:CmptrRm:CR{UPS:1}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:1}Val:%Battery__I")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}Freq:Output__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:1}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:1}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}V:Battery__I")
}

record (longin,"CF:CmptrRm:CR{UPS:1}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}T:UPSAir__I")
}


record (longin,"CF:CmptrRm:CR{UPS:1}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}T:UPSAir__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:1}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:1}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:1}RH:UPSAir__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:1}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:1}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"CF:CmptrRm:CR{UPS:1}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:1}Time:BatteryLeft__I")
}

record (longin,"CF:CmptrRm:CR{UPS:1}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.31 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:Raw__Sts")
}


record(mbbo, "CF:CmptrRm:CR{UPS:1}Cmd:_Sel")
{

    field(OUT, "CF:CmptrRm:CR{UPS:1}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"CF:CmptrRm:CR{UPS:1}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.31 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "CF:CmptrRm:CR{UPS:1}Sts:_Sts.SEVR")

        field(INPB, "CF:CmptrRm:CR{UPS:1}V:Input__I.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:1}I:Input__Calc.SEVR")
        field(INPD, "CF:CmptrRm:CR{UPS:1}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:1}V:Output__I.SEVR")
        field(INPB, "CF:CmptrRm:CR{UPS:1}I:Output__Calc.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:1}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:1}V:Battery__I.SEVR")
        field(INPB, "CF:CmptrRm:CR{UPS:1}T:UPSAir__Calc.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:1}RH:UPSAir__Calc.SEVR")
        field(INPD, "CF:CmptrRm:CR{UPS:1}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:1}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "CF:CmptrRm:CR{UPS:1}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"CF:CmptrRm:CR{UPS:2}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:_Sts")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"CF:CmptrRm:CR{UPS:2}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTime__Sts")
}

record (stringin,"CF:CmptrRm:CR{UPS:2}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.32 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:Raw__Sts")
    # field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:_Sts")
    #field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:upsAlive__Sts")
}

record(scalcout, "CF:CmptrRm:CR{UPS:2}Sts:upsAlive__Sts")
{
    field(INAA, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTime__Sts NPP")
    field(INBB, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"CF:CmptrRm:CR{UPS:2}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "CF:CmptrRm:CR{UPS:2}Sts:upsAgentTime__Sts")
    
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Sts:_Sts")
}

record(mbbi, "CF:CmptrRm:CR{UPS:2}Sts:_Sts")
{
    field(INP, "CF:CmptrRm:CR{UPS:2}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}M:Raw__I")
}

record (longin,"CF:CmptrRm:CR{UPS:2}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "CF:CmptrRm:CR{UPS:2}M:_I")
{
    field(INP, "CF:CmptrRm:CR{UPS:2}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Val:%Load__I")
}


record (ai,"CF:CmptrRm:CR{UPS:2}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Input__I")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}Val:%Load__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:2}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:Input__I")
}

record (ai,"CF:CmptrRm:CR{UPS:2}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:Input__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}I:Input__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"CF:CmptrRm:CR{UPS:2}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.32 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Output__I")   
#}

record (ai,"CF:CmptrRm:CR{UPS:2}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Output__I")   
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}Freq:Input__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:2}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:OutputPa__I")
}

record (ai,"CF:CmptrRm:CR{UPS:2}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:OutputPb__I")
}
record (ai,"CF:CmptrRm:CR{UPS:2}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:OutputPc__I")
}
record (ai,"CF:CmptrRm:CR{UPS:2}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}I:Output__Calc")
}
#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}I:Output__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}I:OutputPa__I MS")
        field(INPB, "CF:CmptrRm:CR{UPS:2}I:OutputPb__I MS")
        field(INPC, "CF:CmptrRm:CR{UPS:2}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"CF:CmptrRm:CR{UPS:2}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "CF:CmptrRm:CR{UPS:2}Val:%Battery__I")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}Freq:Output__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:2}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:2}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}V:Battery__I")
}

record (longin,"CF:CmptrRm:CR{UPS:2}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}T:UPSAir__I")
}


record (longin,"CF:CmptrRm:CR{UPS:2}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}T:UPSAir__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:2}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"CF:CmptrRm:CR{UPS:2}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "CF:CmptrRm:CR{UPS:2}RH:UPSAir__Calc")
{
        field(INPA, "CF:CmptrRm:CR{UPS:2}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "CF:CmptrRm:CR{UPS:2}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"CF:CmptrRm:CR{UPS:2}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "CF:CmptrRm:CR{UPS:2}Time:BatteryLeft__I")
}

record (longin,"CF:CmptrRm:CR{UPS:2}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.32 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "LTB:IS-A{UPS}Sts:Raw__Sts")
}


record(mbbo, "CF:CmptrRm:CR{UPS:2}Cmd:_Sel")
{

    field(OUT, "CF:CmptrRm:CR{UPS:2}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"CF:CmptrRm:CR{UPS:2}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.32 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "CF:CmptrRm:CR{UPS:2}Sts:_Sts.SEVR")

        field(INPB, "CF:CmptrRm:CR{UPS:2}V:Input__I.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:2}I:Input__Calc.SEVR")
        field(INPD, "CF:CmptrRm:CR{UPS:2}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:2}V:Output__I.SEVR")
        field(INPB, "CF:CmptrRm:CR{UPS:2}I:Output__Calc.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:2}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:2}V:Battery__I.SEVR")
        field(INPB, "CF:CmptrRm:CR{UPS:2}T:UPSAir__Calc.SEVR")
        field(INPC, "CF:CmptrRm:CR{UPS:2}RH:UPSAir__Calc.SEVR")
        field(INPD, "CF:CmptrRm:CR{UPS:2}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "CF:CmptrRm:CR{UPS:2}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "CF:CmptrRm:CR{UPS:2}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"LTB:IS-A{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "LTB:IS-A{UPS}Sts:_Sts")
    field(FLNK, "LTB:IS-A{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"LTB:IS-A{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "LTB:IS-A{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"LTB:IS-A{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.34 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "LTB:IS-A{UPS}Sts:Raw__Sts")
    # field(FLNK, "LTB:IS-A{UPS}Sts:_Sts")
    #field(FLNK, "LTB:IS-A{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "LTB:IS-A{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "LTB:IS-A{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "LTB:IS-A{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "LTB:IS-A{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "LTB:IS-A{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"LTB:IS-A{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "LTB:IS-A{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "LTB:IS-A{UPS}Sts:_Sts")
}

record(mbbi, "LTB:IS-A{UPS}Sts:_Sts")
{
    field(INP, "LTB:IS-A{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:IS-A{UPS}M:Raw__I")
}

record (longin,"LTB:IS-A{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(FLNK, "LTB:IS-A{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "LTB:IS-A{UPS}M:_I")
{
    field(INP, "LTB:IS-A{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:IS-A{UPS}Val:%Load__I")
}


record (ai,"LTB:IS-A{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "LTB:IS-A{UPS}V:Input__I")
    field(FLNK, "LTB:IS-A{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}Val:%Load__Calc")
{
        field(INPA, "LTB:IS-A{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "LTB:IS-A{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-A{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "LTB:IS-A{UPS}I:Input__I")
}

record (ai,"LTB:IS-A{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "LTB:IS-A{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}I:Input__Calc")
{
        field(INPA, "LTB:IS-A{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "LTB:IS-A{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"LTB:IS-A{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.34 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:IS-A{UPS}V:Output__I")   
#}

record (ai,"LTB:IS-A{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:IS-A{UPS}V:Output__I")   
    field(FLNK, "LTB:IS-A{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}Freq:Input__Calc")
{
        field(INPA, "LTB:IS-A{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "LTB:IS-A{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-A{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "LTB:IS-A{UPS}I:OutputPa__I")
}

record (ai,"LTB:IS-A{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "LTB:IS-A{UPS}I:OutputPb__I")
}
record (ai,"LTB:IS-A{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "LTB:IS-A{UPS}I:OutputPc__I")
}
record (ai,"LTB:IS-A{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "LTB:IS-A{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "LTB:IS-A{UPS}I:Output__Calc")
{
        field(INPA, "LTB:IS-A{UPS}I:OutputPa__I MS")
        field(INPB, "LTB:IS-A{UPS}I:OutputPb__I MS")
        field(INPC, "LTB:IS-A{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "LTB:IS-A{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"LTB:IS-A{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "LTB:IS-A{UPS}Val:%Battery__I")
    field(FLNK, "LTB:IS-A{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}Freq:Output__Calc")
{
        field(INPA, "LTB:IS-A{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "LTB:IS-A{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-A{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "LTB:IS-A{UPS}V:Battery__I")
}

record (longin,"LTB:IS-A{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "LTB:IS-A{UPS}T:UPSAir__I")
}


record (longin,"LTB:IS-A{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "LTB:IS-A{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}T:UPSAir__Calc")
{
        field(INPA, "LTB:IS-A{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "LTB:IS-A{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-A{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "LTB:IS-A{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-A{UPS}RH:UPSAir__Calc")
{
        field(INPA, "LTB:IS-A{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "LTB:IS-A{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"LTB:IS-A{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "LTB:IS-A{UPS}Time:BatteryLeft__I")
}

record (longin,"LTB:IS-A{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.34 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "LTB:IS-B{UPS}Sts:Raw__Sts")
}


record(mbbo, "LTB:IS-A{UPS}Cmd:_Sel")
{

    field(OUT, "LTB:IS-A{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"LTB:IS-A{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.34 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-A{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "LTB:IS-A{UPS}Sts:_Sts.SEVR")

        field(INPB, "LTB:IS-A{UPS}V:Input__I.SEVR")
        field(INPC, "LTB:IS-A{UPS}I:Input__Calc.SEVR")
        field(INPD, "LTB:IS-A{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-A{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-A{UPS}V:Output__I.SEVR")
        field(INPB, "LTB:IS-A{UPS}I:Output__Calc.SEVR")
        field(INPC, "LTB:IS-A{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-A{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-A{UPS}V:Battery__I.SEVR")
        field(INPB, "LTB:IS-A{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "LTB:IS-A{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "LTB:IS-A{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-A{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-A{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "LTB:IS-A{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "LTB:IS-A{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "LTB:IS-A{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "LTB:IS-A{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"LTB:IS-B{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "LTB:IS-B{UPS}Sts:_Sts")
    field(FLNK, "LTB:IS-B{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"LTB:IS-B{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "LTB:IS-B{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"LTB:IS-B{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.35 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "LTB:IS-B{UPS}Sts:Raw__Sts")
    # field(FLNK, "LTB:IS-B{UPS}Sts:_Sts")
    #field(FLNK, "LTB:IS-B{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "LTB:IS-B{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "LTB:IS-B{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "LTB:IS-B{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "LTB:IS-B{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "LTB:IS-B{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"LTB:IS-B{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "LTB:IS-B{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "LTB:IS-B{UPS}Sts:_Sts")
}

record(mbbi, "LTB:IS-B{UPS}Sts:_Sts")
{
    field(INP, "LTB:IS-B{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:IS-B{UPS}M:Raw__I")
}

record (longin,"LTB:IS-B{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(FLNK, "LTB:IS-B{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "LTB:IS-B{UPS}M:_I")
{
    field(INP, "LTB:IS-B{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:IS-B{UPS}Val:%Load__I")
}


record (ai,"LTB:IS-B{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "LTB:IS-B{UPS}V:Input__I")
    field(FLNK, "LTB:IS-B{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}Val:%Load__Calc")
{
        field(INPA, "LTB:IS-B{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "LTB:IS-B{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-B{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "LTB:IS-B{UPS}I:Input__I")
}

record (ai,"LTB:IS-B{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "LTB:IS-B{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}I:Input__Calc")
{
        field(INPA, "LTB:IS-B{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "LTB:IS-B{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"LTB:IS-B{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.35 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:IS-B{UPS}V:Output__I")   
#}

record (ai,"LTB:IS-B{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:IS-B{UPS}V:Output__I")   
    field(FLNK, "LTB:IS-B{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}Freq:Input__Calc")
{
        field(INPA, "LTB:IS-B{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "LTB:IS-B{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-B{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "LTB:IS-B{UPS}I:OutputPa__I")
}

record (ai,"LTB:IS-B{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "LTB:IS-B{UPS}I:OutputPb__I")
}
record (ai,"LTB:IS-B{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "LTB:IS-B{UPS}I:OutputPc__I")
}
record (ai,"LTB:IS-B{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "LTB:IS-B{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "LTB:IS-B{UPS}I:Output__Calc")
{
        field(INPA, "LTB:IS-B{UPS}I:OutputPa__I MS")
        field(INPB, "LTB:IS-B{UPS}I:OutputPb__I MS")
        field(INPC, "LTB:IS-B{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "LTB:IS-B{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"LTB:IS-B{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "LTB:IS-B{UPS}Val:%Battery__I")
    field(FLNK, "LTB:IS-B{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}Freq:Output__Calc")
{
        field(INPA, "LTB:IS-B{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "LTB:IS-B{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-B{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "LTB:IS-B{UPS}V:Battery__I")
}

record (longin,"LTB:IS-B{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "LTB:IS-B{UPS}T:UPSAir__I")
}


record (longin,"LTB:IS-B{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "LTB:IS-B{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}T:UPSAir__Calc")
{
        field(INPA, "LTB:IS-B{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "LTB:IS-B{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"LTB:IS-B{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "LTB:IS-B{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:IS-B{UPS}RH:UPSAir__Calc")
{
        field(INPA, "LTB:IS-B{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "LTB:IS-B{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"LTB:IS-B{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "LTB:IS-B{UPS}Time:BatteryLeft__I")
}

record (longin,"LTB:IS-B{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.35 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "LTB:TRANSFER{UPS}Sts:Raw__Sts")
}


record(mbbo, "LTB:IS-B{UPS}Cmd:_Sel")
{

    field(OUT, "LTB:IS-B{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"LTB:IS-B{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.35 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-B{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "LTB:IS-B{UPS}Sts:_Sts.SEVR")

        field(INPB, "LTB:IS-B{UPS}V:Input__I.SEVR")
        field(INPC, "LTB:IS-B{UPS}I:Input__Calc.SEVR")
        field(INPD, "LTB:IS-B{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-B{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-B{UPS}V:Output__I.SEVR")
        field(INPB, "LTB:IS-B{UPS}I:Output__Calc.SEVR")
        field(INPC, "LTB:IS-B{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-B{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-B{UPS}V:Battery__I.SEVR")
        field(INPB, "LTB:IS-B{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "LTB:IS-B{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "LTB:IS-B{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:IS-B{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:IS-B{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "LTB:IS-B{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "LTB:IS-B{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "LTB:IS-B{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "LTB:IS-B{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"LTB:TRANSFER{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "LTB:TRANSFER{UPS}Sts:_Sts")
    field(FLNK, "LTB:TRANSFER{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"LTB:TRANSFER{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "LTB:TRANSFER{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"LTB:TRANSFER{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.36 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "LTB:TRANSFER{UPS}Sts:Raw__Sts")
    # field(FLNK, "LTB:TRANSFER{UPS}Sts:_Sts")
    #field(FLNK, "LTB:TRANSFER{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "LTB:TRANSFER{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "LTB:TRANSFER{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "LTB:TRANSFER{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "LTB:TRANSFER{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "LTB:TRANSFER{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"LTB:TRANSFER{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "LTB:TRANSFER{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "LTB:TRANSFER{UPS}Sts:_Sts")
}

record(mbbi, "LTB:TRANSFER{UPS}Sts:_Sts")
{
    field(INP, "LTB:TRANSFER{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:TRANSFER{UPS}M:Raw__I")
}

record (longin,"LTB:TRANSFER{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(FLNK, "LTB:TRANSFER{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "LTB:TRANSFER{UPS}M:_I")
{
    field(INP, "LTB:TRANSFER{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:TRANSFER{UPS}Val:%Load__I")
}


record (ai,"LTB:TRANSFER{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "LTB:TRANSFER{UPS}V:Input__I")
    field(FLNK, "LTB:TRANSFER{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}Val:%Load__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "LTB:TRANSFER{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:TRANSFER{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "LTB:TRANSFER{UPS}I:Input__I")
}

record (ai,"LTB:TRANSFER{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "LTB:TRANSFER{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}I:Input__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "LTB:TRANSFER{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"LTB:TRANSFER{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.36 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:TRANSFER{UPS}V:Output__I")   
#}

record (ai,"LTB:TRANSFER{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:TRANSFER{UPS}V:Output__I")   
    field(FLNK, "LTB:TRANSFER{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}Freq:Input__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "LTB:TRANSFER{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:TRANSFER{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "LTB:TRANSFER{UPS}I:OutputPa__I")
}

record (ai,"LTB:TRANSFER{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "LTB:TRANSFER{UPS}I:OutputPb__I")
}
record (ai,"LTB:TRANSFER{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "LTB:TRANSFER{UPS}I:OutputPc__I")
}
record (ai,"LTB:TRANSFER{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "LTB:TRANSFER{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}I:Output__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}I:OutputPa__I MS")
        field(INPB, "LTB:TRANSFER{UPS}I:OutputPb__I MS")
        field(INPC, "LTB:TRANSFER{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "LTB:TRANSFER{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"LTB:TRANSFER{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "LTB:TRANSFER{UPS}Val:%Battery__I")
    field(FLNK, "LTB:TRANSFER{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}Freq:Output__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "LTB:TRANSFER{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"LTB:TRANSFER{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "LTB:TRANSFER{UPS}V:Battery__I")
}

record (longin,"LTB:TRANSFER{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "LTB:TRANSFER{UPS}T:UPSAir__I")
}


record (longin,"LTB:TRANSFER{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "LTB:TRANSFER{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}T:UPSAir__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "LTB:TRANSFER{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"LTB:TRANSFER{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "LTB:TRANSFER{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:TRANSFER{UPS}RH:UPSAir__Calc")
{
        field(INPA, "LTB:TRANSFER{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "LTB:TRANSFER{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"LTB:TRANSFER{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "LTB:TRANSFER{UPS}Time:BatteryLeft__I")
}

record (longin,"LTB:TRANSFER{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.36 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "LTB:RF{UPS}Sts:Raw__Sts")
}


record(mbbo, "LTB:TRANSFER{UPS}Cmd:_Sel")
{

    field(OUT, "LTB:TRANSFER{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"LTB:TRANSFER{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.36 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "LTB:TRANSFER{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "LTB:TRANSFER{UPS}Sts:_Sts.SEVR")

        field(INPB, "LTB:TRANSFER{UPS}V:Input__I.SEVR")
        field(INPC, "LTB:TRANSFER{UPS}I:Input__Calc.SEVR")
        field(INPD, "LTB:TRANSFER{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "LTB:TRANSFER{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:TRANSFER{UPS}V:Output__I.SEVR")
        field(INPB, "LTB:TRANSFER{UPS}I:Output__Calc.SEVR")
        field(INPC, "LTB:TRANSFER{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:TRANSFER{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:TRANSFER{UPS}V:Battery__I.SEVR")
        field(INPB, "LTB:TRANSFER{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "LTB:TRANSFER{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "LTB:TRANSFER{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:TRANSFER{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:TRANSFER{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "LTB:TRANSFER{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "LTB:TRANSFER{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "LTB:TRANSFER{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "LTB:TRANSFER{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}




record (longin,"LTB:RF{UPS}Sts:Raw__Sts")
{
    field(DESC, "UPS Battery Status")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    # field(SCAN, "10 second")
    field(SCAN, "Passive")
    #field(FLNK, "LTB:RF{UPS}Sts:_Sts")
    field(FLNK, "LTB:RF{UPS}Sts:upsAlarmOnBattery__Sts")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.1.0")
}

record (longin,"LTB:RF{UPS}Sts:upsAlarmOnBattery__Sts")
{
    field(DESC, "UPS On Battery Alarm")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(HIHI, 1)
    field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.3.2.0")
    field(FLNK, "LTB:RF{UPS}Sts:upsAgentTime__Sts")
}

record (stringin,"LTB:RF{UPS}Sts:upsAgentTime__Sts")
{
    field(DESC, "UPS Agent time")
    field(DTYP, "Snmp")
    field(INP, "@10.0.145.37 public STRING: 128")
    # field(SCAN, "Passive")
    # info(OID, "1.3.6.1.2.1.1.3.0")
    info(OID, "1.3.6.1.4.1.186.1.19.2.1.13.5.0")
    # field(FLNK, "LTB:RF{UPS}Sts:Raw__Sts")
    # field(FLNK, "LTB:RF{UPS}Sts:_Sts")
    #field(FLNK, "LTB:RF{UPS}Sts:upsAgentTimePrev__Sts")
    field(FLNK, "LTB:RF{UPS}Sts:upsAlive__Sts")
}

record(scalcout, "LTB:RF{UPS}Sts:upsAlive__Sts")
{
    field(INAA, "LTB:RF{UPS}Sts:upsAgentTime__Sts NPP")
    field(INBB, "LTB:RF{UPS}Sts:upsAgentTimePrev__Sts NPP")
    field(CALC, "AA!=BB")
    field(LOLO, 0.0)
    field(LLSV, "MAJOR")
    field(FLNK, "LTB:RF{UPS}Sts:upsAgentTimePrev__Sts")
}

record (stringin,"LTB:RF{UPS}Sts:upsAgentTimePrev__Sts")
{
    field(DESC, "Previous cycle UPS agent time")
    #field(DTYP, "Snmp")
    field(INP, "LTB:RF{UPS}Sts:upsAgentTime__Sts")
    
    field(FLNK, "LTB:RF{UPS}Sts:_Sts")
}

record(mbbi, "LTB:RF{UPS}Sts:_Sts")
{
    field(INP, "LTB:RF{UPS}Sts:Raw__Sts")
    field(ZRST, "Undefined")
    field(ONST, "Unknown")
    field(TWST, "Normal")
    field(THST, "Depleted")
    field(FRST, "Discharging")
    field(FVST, "Failure")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "MAJOR")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:RF{UPS}M:Raw__I")
}

record (longin,"LTB:RF{UPS}M:Raw__I")
{
    field(DESC, "Output Source")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(FLNK, "LTB:RF{UPS}M:_I")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.1.0")
}

record(mbbi, "LTB:RF{UPS}M:_I")
{
    field(INP, "LTB:RF{UPS}M:Raw__I")
    field(ZRST, "Undefined")
    field(ONST, "Other")
    field(TWST, "None")
    field(THST, "Normal")
    field(FRST, "Bypass")
    field(FVST, "Battery")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "MAJOR")
    field(FVSV, "MAJOR")
    field(FLNK, "LTB:RF{UPS}Val:%Load__I")
}


record (ai,"LTB:RF{UPS}Val:%Load__I")
{
    field(DESC, "% Output Load")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(ASLO, ".01")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.6.0")
#    field(FLNK, "LTB:RF{UPS}V:Input__I")
    field(FLNK, "LTB:RF{UPS}Val:%Load__Calc")
}

#Scaling calculation
record(calc, "LTB:RF{UPS}Val:%Load__Calc")
{
        field(INPA, "LTB:RF{UPS}Val:%Load__I MS")
		field(CALC, "A*1")
		field(FLNK, "LTB:RF{UPS}V:Input__I")
    field(HIHI, 80)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:RF{UPS}V:Input__I")
{
    field(DESC, "Input Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.3.0")
    field(FLNK, "LTB:RF{UPS}I:Input__I")
}

record (ai,"LTB:RF{UPS}I:Input__I")
{
    field(DESC, "Input Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.4.0")
    field(FLNK, "LTB:RF{UPS}I:Input__Calc")
}

#Scaling calculation
record(calc, "LTB:RF{UPS}I:Input__Calc")
{
        field(INPA, "LTB:RF{UPS}I:Input__I MS")
		field(CALC, "A*.1")
    field(FLNK, "LTB:RF{UPS}Freq:Input__I")
    field(HIHI, 110)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
#record (longin,"LTB:RF{UPS}Freq:Input__I")
#{
#    field(DESC, "Input Frequency")
#    field(DTYP, "Snmp")
#    field(INP,  "@10.0.145.37 public INTEGER: 128")
#    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:RF{UPS}V:Output__I")   
#}

record (ai,"LTB:RF{UPS}Freq:Input__I")
{
    field(DESC, "Input Frequency")
    field(LINR, "LINEAR")
    field(ESLO, .1)
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.3.3.1.2.0")
#    field(FLNK, "LTB:RF{UPS}V:Output__I")   
    field(FLNK, "LTB:RF{UPS}Freq:Input__Calc")   
}

#Scaling calculation
record(calc, "LTB:RF{UPS}Freq:Input__Calc")
{
        field(INPA, "LTB:RF{UPS}Freq:Input__I MS")
		field(CALC, "A*.1")
		field(FLNK, "LTB:RF{UPS}V:Output__I")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
#        field(TPRO, "1")
}

record (longin,"LTB:RF{UPS}V:Output__I")
{
    field(DESC, "Output Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(HIHI, 239)
	field(HHSV, "MAJOR")
	field(LOLO, 176)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.2.0")
    field(FLNK, "LTB:RF{UPS}I:OutputPa__I")
}

record (ai,"LTB:RF{UPS}I:OutputPa__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.1")
    field(FLNK, "LTB:RF{UPS}I:OutputPb__I")
}
record (ai,"LTB:RF{UPS}I:OutputPb__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.2")
    field(FLNK, "LTB:RF{UPS}I:OutputPc__I")
}
record (ai,"LTB:RF{UPS}I:OutputPc__I")
{
    field(DESC, "Output Current")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    field(ASLO, ".01")
#	field(HIHI, 239)
#	field(HHSV, "MAJOR")
#	field(LOLO, 176)
#	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.4.1.4.3")
    field(FLNK, "LTB:RF{UPS}I:Output__Calc")
}
#Scaling calculation
record(calc, "LTB:RF{UPS}I:Output__Calc")
{
        field(INPA, "LTB:RF{UPS}I:OutputPa__I MS")
        field(INPB, "LTB:RF{UPS}I:OutputPb__I MS")
        field(INPC, "LTB:RF{UPS}I:OutputPc__I MS")
#	field(CALC, "(MAX(A,MAX(B,C)))*.1")
	field(CALC, "(A+B+C)*.1")
    field(FLNK, "LTB:RF{UPS}Freq:Output__I")
##    field(HIHI, 83.4)
     field(HIHI, 250.2)
    field(HHSV, "MAJOR")
#        field(TPRO, "1")
}
record (longin,"LTB:RF{UPS}Freq:Output__I")
{
    field(DESC, "Output Frequency")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.4.2.0")
#    field(FLNK, "LTB:RF{UPS}Val:%Battery__I")
    field(FLNK, "LTB:RF{UPS}Freq:Output__Calc")
}

#Scaling calculation
record(calc, "LTB:RF{UPS}Freq:Output__Calc")
{
        field(INPA, "LTB:RF{UPS}Freq:Output__I MS")
		field(CALC, "A*.1")
	field(HIHI, 63.0)
	field(HHSV, "MAJOR")
	field(LOLO, 57.0)
	field(LLSV, "MAJOR")
                field(FLNK, "LTB:RF{UPS}Val:%Battery__I")
#        field(TPRO, "1")
}

record (longin,"LTB:RF{UPS}Val:%Battery__I")
{
    field(DESC, "% Battery Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(LOLO, 800)
	field(LLSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.4.0")
    field(FLNK, "LTB:RF{UPS}V:Battery__I")
}

record (longin,"LTB:RF{UPS}V:Battery__I")
{
    field(DESC, "Battery Voltage")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(LOLO, 311)
	field(LLSV, "MAJOR")
	field(HIHI, 344)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.5.0")
    field(FLNK, "LTB:RF{UPS}T:UPSAir__I")
}


record (longin,"LTB:RF{UPS}T:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.2.0")
    field(FLNK, "LTB:RF{UPS}T:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:RF{UPS}T:UPSAir__Calc")
{
        field(INPA, "LTB:RF{UPS}T:UPSAir__I")
		field(CALC, "A*.1")
	field(HIHI, 35.0)
	field(HHSV, "MAJOR")
                field(FLNK, "LTB:RF{UPS}RH:UPSAir__I")
#        field(TPRO, "1")
}

record (longin,"LTB:RF{UPS}RH:UPSAir__I")
{
    field(DESC, "Battery Temperature")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(HIHI, 350)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.15.9.0")
    field(FLNK, "LTB:RF{UPS}RH:UPSAir__Calc")
}

#Scaling calculation
record(calc, "LTB:RF{UPS}RH:UPSAir__Calc")
{
        field(INPA, "LTB:RF{UPS}RH:UPSAir__I")
		field(CALC, "A*.1")
#	field(HIHI, 63.0)
#	field(HHSV, "MAJOR")
#	field(LOLO, 57.0)
#	field(LLSV, "MAJOR")
                field(FLNK, "LTB:RF{UPS}Cnt:UPSAlarm__I")
#        field(TPRO, "1")
}

record (ai,"LTB:RF{UPS}Cnt:UPSAlarm__I")
{
    field(DESC, "Alarm Count")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public Gauge32: 128")
	field(HIHI, 1)
	field(HHSV, "MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.6.1.0")
    field(FLNK, "LTB:RF{UPS}Time:BatteryLeft__I")
}

record (longin,"LTB:RF{UPS}Time:BatteryLeft__I")
{
    field(DESC, "Battery Time Remaining")
    field(DTYP, "Snmp")
    field(INP,  "@10.0.145.37 public INTEGER: 128")
	field(LOLO, 8)
	field(LLSV,"MAJOR")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.2.3.0")
    field(FLNK, "")
}


record(mbbo, "LTB:RF{UPS}Cmd:_Sel")
{

    field(OUT, "LTB:RF{UPS}Cmd:Raw__Sel PP")
    field(DTYP, "Raw Soft Channel")

    field(ONST, "Run/Inverter")
    field(TWST, "Stop/ByPass")
    field(ONVL, "1")
    field(TWVL, "2")
}

record (longout,"LTB:RF{UPS}Cmd:Raw__Sel")
{
    field(DESC, "Setting the outlet state")
    field(DTYP, "Snmp")
    field(OUT,  "@10.0.145.37 public INTEGER: 128 i")
    info (OID,  "1.3.6.1.4.1.186.1.19.2.1.8.6.0")
}


#UPS Alarm calculation combine all fields
record(calc, "LTB:RF{UPS}UPS:AlarmCalcP1")
{
        field(SCAN, "2 second")
        field(INPA, "LTB:RF{UPS}Sts:_Sts.SEVR")

        field(INPB, "LTB:RF{UPS}V:Input__I.SEVR")
        field(INPC, "LTB:RF{UPS}I:Input__Calc.SEVR")
        field(INPD, "LTB:RF{UPS}Freq:Input__Calc.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}

#UPS Alarm calculation combine all fields
record(calc, "LTB:RF{UPS}UPS:AlarmCalcP2")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:RF{UPS}V:Output__I.SEVR")
        field(INPB, "LTB:RF{UPS}I:Output__Calc.SEVR")
        field(INPC, "LTB:RF{UPS}Freq:Output__Calc.SEVR")
	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:RF{UPS}UPS:AlarmCalcP3")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:RF{UPS}V:Battery__I.SEVR")
        field(INPB, "LTB:RF{UPS}T:UPSAir__Calc.SEVR")
        field(INPC, "LTB:RF{UPS}RH:UPSAir__Calc.SEVR")
        field(INPD, "LTB:RF{UPS}Cnt:UPSAlarm__I.SEVR")

	field(CALC, "(((A=2)||(B=2)||(C=2)||(D=2))?1:0)")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}


#UPS Alarm calculation combine all fields
record(calc, "LTB:RF{UPS}UPS:AlarmCalcP4")
{
        field(SCAN, "10 second")
        field(INPA, "LTB:RF{UPS}Cnt:UPSAlarm__I")
	field(CALC, "A")
	field(HIHI, 1.0)
	field(HHSV, "MAJOR")
#       field(TPRO, "1")

}
#UPS Alarm calculation combine all fields
#record(calc, "LTB:RF{UPS}UPS:AlarmCalcP4")
#{
#        field(SCAN, "10 second")
#        field(INPA, "LTB:RF{UPS}UPS:AlarmCalcP1.SEVR")
#        field(INPB, "LTB:RF{UPS}UPS:AlarmCalcP2.SEVR")
#        field(INPC, "LTB:RF{UPS}UPS:AlarmCalcP3.SEVR")
#	field(CALC, "(((A=2)||(B=2)||(C=2))?1:0)")
#	field(HIHI, 1.0)
#	field(HHSV, "MAJOR")
#       field(TPRO, "1")
#
#}



